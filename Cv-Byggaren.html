<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CV-Byggaren â€“ 50 Professionella Mallar</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=Instrument+Serif:ital@0;1&family=JetBrains+Mono:wght@400;500&family=Playfair+Display:ital,wght@0,700;1,400&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,700;1,400&family=Fraunces:ital,wght@0,300;0,700;1,400&family=Space+Grotesk:wght@300;400;600;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SITE SHELL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --bg:#0A0A08; --s1:#141412; --s2:#1E1E1B; --s3:#272724;
  --border:#303030; --text:#F2EFE8; --muted:#7A7772;
  --acc:#E8C547; --acc-dim:#2E2800; --acc2:rgba(232,197,71,.15);
  --green:#4ADE80; --red:#FF6B6B;
}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'DM Sans',sans-serif;overflow-x:hidden}

/* NAV */
nav{position:fixed;inset:0 0 auto;z-index:200;display:flex;align-items:center;justify-content:space-between;padding:1rem 3rem;background:rgba(10,10,8,.95);backdrop-filter:blur(16px);border-bottom:1px solid var(--border)}
.logo{font-family:'Syne',sans-serif;font-size:1rem;font-weight:800;letter-spacing:-.02em;display:flex;align-items:center;gap:.6rem}
.logo-dot{width:7px;height:7px;background:var(--acc);border-radius:50%;animation:blink 2s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}
.nav-r{display:flex;align-items:center;gap:1.5rem}
.nav-link{font-family:'JetBrains Mono',monospace;font-size:.6rem;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);text-decoration:none;transition:color .2s}
.nav-link:hover{color:var(--text)}
.nav-btn{background:var(--acc);color:var(--bg);padding:.45rem 1.1rem;font-family:'JetBrains Mono',monospace;font-size:.62rem;font-weight:600;text-transform:uppercase;letter-spacing:.1em;border:none;cursor:pointer;transition:opacity .2s}
.nav-btn:hover{opacity:.85}

/* HERO */
.hero{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:8rem 2rem 4rem;position:relative;overflow:hidden}
.hero-mesh{position:absolute;inset:0;background:radial-gradient(ellipse 100% 70% at 50% -10%,rgba(232,197,71,.07) 0%,transparent 55%),radial-gradient(ellipse 50% 50% at 85% 90%,rgba(74,222,128,.04) 0%,transparent 45%);pointer-events:none}
.hero-lines{position:absolute;inset:0;background-image:linear-gradient(var(--border) 1px,transparent 1px),linear-gradient(90deg,var(--border) 1px,transparent 1px);background-size:70px 70px;opacity:.18;mask-image:radial-gradient(ellipse 90% 90% at 50% 50%,black 20%,transparent 80%);pointer-events:none}
.h-badge{display:inline-flex;align-items:center;gap:.5rem;background:var(--acc-dim);border:1px solid rgba(232,197,71,.25);padding:.35rem 1rem;font-family:'JetBrains Mono',monospace;font-size:.6rem;text-transform:uppercase;letter-spacing:.14em;color:var(--acc);margin-bottom:2.5rem;animation:fu .5s ease both}
@keyframes fu{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
.hero h1{font-family:'Syne',sans-serif;font-size:clamp(2.8rem,7vw,6.5rem);font-weight:800;line-height:.92;letter-spacing:-.04em;margin-bottom:1.5rem;animation:fu2 .6s ease .1s both}
.hero h1 i{font-family:'Instrument Serif',serif;font-weight:400;font-style:italic;color:var(--acc)}
@keyframes fu2{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
.hero-sub{font-size:1.05rem;color:var(--muted);line-height:1.8;max-width:480px;margin:0 auto 3rem;animation:fu2 .6s ease .2s both}
.hero-btns{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;animation:fu2 .6s ease .3s both}
.btn-acc{background:var(--acc);color:var(--bg);padding:.9rem 2.2rem;font-family:'Syne',sans-serif;font-size:.88rem;font-weight:700;border:none;cursor:pointer;transition:opacity .2s,transform .15s}
.btn-acc:hover{opacity:.88;transform:translateY(-2px)}
.btn-out{background:transparent;color:var(--text);padding:.9rem 2.2rem;font-family:'Syne',sans-serif;font-size:.88rem;font-weight:600;border:1px solid var(--border);cursor:pointer;transition:all .2s}
.btn-out:hover{border-color:var(--muted)}
.hero-nums{display:flex;gap:3.5rem;justify-content:center;margin-top:5rem;animation:fu2 .6s ease .4s both}
.hnum-n{font-family:'Syne',sans-serif;font-size:2.2rem;font-weight:800;letter-spacing:-.04em;color:var(--acc);display:block}
.hnum-l{font-family:'JetBrains Mono',monospace;font-size:.58rem;text-transform:uppercase;letter-spacing:.12em;color:var(--muted)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TEMPLATE GALLERY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#gallery{padding:5rem 4rem;border-top:1px solid var(--border)}
.gallery-top{display:flex;align-items:flex-end;justify-content:space-between;flex-wrap:wrap;gap:2rem;margin-bottom:3rem}
.eyebrow{font-family:'JetBrains Mono',monospace;font-size:.62rem;text-transform:uppercase;letter-spacing:.15em;color:var(--acc);display:flex;align-items:center;gap:.7rem}
.eyebrow::before{content:'';width:22px;height:1px;background:var(--acc)}
.gallery-title{font-family:'Syne',sans-serif;font-size:clamp(1.8rem,3.5vw,3rem);font-weight:800;letter-spacing:-.04em;margin-top:.5rem;line-height:1}
.gallery-title em{font-family:'Instrument Serif',serif;font-style:italic;font-weight:400;color:var(--acc)}

/* FILTERS */
.filters{display:flex;gap:.5rem;flex-wrap:wrap}
.filt-btn{background:var(--s2);border:1px solid var(--border);color:var(--muted);padding:.5rem 1.1rem;font-family:'JetBrains Mono',monospace;font-size:.62rem;text-transform:uppercase;letter-spacing:.08em;cursor:pointer;transition:all .2s}
.filt-btn:hover{border-color:var(--muted);color:var(--text)}
.filt-btn.on{background:var(--acc-dim);border-color:var(--acc);color:var(--acc)}

/* COUNT */
.gallery-meta{font-family:'JetBrains Mono',monospace;font-size:.62rem;color:var(--muted);margin-bottom:1.5rem}
.gallery-meta span{color:var(--acc);font-weight:600}

/* GRID */
.tpl-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:1rem}

.tpl-card{border:2px solid var(--border);cursor:pointer;transition:border-color .2s,transform .2s;position:relative;background:var(--s1)}
.tpl-card:hover{border-color:var(--muted);transform:translateY(-3px)}
.tpl-card.sel{border-color:var(--acc)}
.tpl-card.sel::after{content:'âœ“';position:absolute;top:.5rem;right:.5rem;background:var(--acc);color:var(--bg);width:22px;height:22px;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:800;border-radius:50%}
.tpl-card.hidden{display:none}

.tpl-thumb{height:200px;overflow:hidden;background:white;position:relative}
.tpl-thumb-inner{position:absolute;inset:0;transform-origin:top left}

.tpl-foot{padding:.7rem .8rem;background:var(--s2);border-top:1px solid var(--border)}
.tpl-foot-name{font-family:'Syne',sans-serif;font-size:.75rem;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.tpl-foot-tags{display:flex;gap:.3rem;margin-top:.3rem;flex-wrap:wrap}
.tpl-tag{font-family:'JetBrains Mono',monospace;font-size:.48rem;text-transform:uppercase;letter-spacing:.06em;padding:.1rem .35rem;border:1px solid var(--border);color:var(--muted)}

.gallery-cta{margin-top:2.5rem;text-align:center}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BUILDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#builder{border-top:1px solid var(--border);padding:5rem 0 0;display:none}
.builder-head{padding:0 4rem 3rem}
.steps-row{display:flex;border-top:1px solid var(--border);border-bottom:1px solid var(--border);overflow-x:auto}
.stp{flex:1;min-width:110px;padding:1.1rem 1.2rem;display:flex;align-items:center;gap:.7rem;border-right:1px solid var(--border);cursor:pointer;transition:background .2s;opacity:.35}
.stp:last-child{border-right:none}
.stp.active{opacity:1;background:var(--s1)}
.stp.done{opacity:.65}
.stp.done .stp-n{background:var(--green);color:var(--bg)}
.stp-n{width:26px;height:26px;background:var(--border);border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'JetBrains Mono',monospace;font-size:.68rem;flex-shrink:0;transition:background .2s}
.stp.active .stp-n{background:var(--acc);color:var(--bg)}
.stp-l{font-family:'Syne',sans-serif;font-size:.75rem;font-weight:600}
.stp-s{font-family:'JetBrains Mono',monospace;font-size:.52rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted);display:block}

.panels-wrap{background:var(--s1)}
.panel{display:none;padding:3rem 4rem}
.panel.active{display:block}
.p-title{font-family:'Syne',sans-serif;font-size:1.25rem;font-weight:700;letter-spacing:-.02em;margin-bottom:.3rem}
.p-desc{font-size:.83rem;color:var(--muted);margin-bottom:2rem}

.fg{display:grid;grid-template-columns:1fr 1fr;gap:1.1rem}
.fg.one{grid-template-columns:1fr}
.fld{display:flex;flex-direction:column;gap:.35rem}
.fld label{font-family:'JetBrains Mono',monospace;font-size:.58rem;text-transform:uppercase;letter-spacing:.1em;color:var(--muted)}
.fld input,.fld textarea,.fld select{background:var(--bg);border:1px solid var(--border);color:var(--text);padding:.75rem .9rem;font-family:'DM Sans',sans-serif;font-size:.88rem;outline:none;transition:border-color .2s;width:100%}
.fld input:focus,.fld textarea:focus,.fld select:focus{border-color:var(--acc)}
.fld textarea{height:95px;resize:vertical}
.fld input::placeholder,.fld textarea::placeholder{color:var(--muted);opacity:.45}

.rep-block{border:1px solid var(--border);padding:1.4rem;margin-bottom:.9rem}
.rep-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.1rem}
.rep-label{font-family:'Syne',sans-serif;font-size:.8rem;font-weight:700;color:var(--acc)}
.rm-btn{background:none;border:1px solid var(--border);color:var(--muted);padding:.28rem .65rem;font-family:'JetBrains Mono',monospace;font-size:.58rem;cursor:pointer;transition:all .2s}
.rm-btn:hover{border-color:var(--red);color:var(--red)}
.add-row{background:transparent;border:1px dashed var(--border);color:var(--muted);padding:.75rem 1.3rem;font-family:'JetBrains Mono',monospace;font-size:.62rem;text-transform:uppercase;letter-spacing:.1em;cursor:pointer;transition:all .2s;width:100%;margin-top:.5rem}
.add-row:hover{border-color:var(--acc);color:var(--acc)}

.ai-row{display:inline-flex;align-items:center;gap:.5rem;background:var(--acc-dim);border:1px solid rgba(232,197,71,.28);color:var(--acc);padding:.45rem .9rem;font-family:'JetBrains Mono',monospace;font-size:.58rem;text-transform:uppercase;letter-spacing:.1em;cursor:pointer;transition:all .2s;margin-top:.5rem}
.ai-row:hover{background:rgba(232,197,71,.12)}
.ai-row.ld{opacity:.6;pointer-events:none}
.spin{width:9px;height:9px;border:2px solid rgba(232,197,71,.25);border-top-color:var(--acc);border-radius:50%;animation:sp .7s linear infinite;display:none}
.ai-row.ld .spin{display:block}
@keyframes sp{to{transform:rotate(360deg)}}

.panel-nav{display:flex;justify-content:space-between;align-items:center;padding:1.8rem 4rem;border-top:1px solid var(--border)}
.btn-back{background:transparent;color:var(--muted);padding:.75rem 1.8rem;font-family:'Syne',sans-serif;font-size:.83rem;font-weight:600;border:1px solid var(--border);cursor:pointer;transition:all .2s}
.btn-back:hover{color:var(--text);border-color:var(--muted)}
.btn-fwd{background:var(--acc);color:var(--bg);padding:.75rem 2.2rem;font-family:'Syne',sans-serif;font-size:.88rem;font-weight:700;border:none;cursor:pointer;transition:opacity .2s,transform .15s}
.btn-fwd:hover{opacity:.88;transform:translateY(-1px)}
.stp-info{font-family:'JetBrains Mono',monospace;font-size:.62rem;color:var(--muted);text-transform:uppercase;letter-spacing:.1em}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PREVIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#preview{background:var(--bg);padding:3rem 4rem;border-top:1px solid var(--border);display:none}
.prev-top{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;margin-bottom:1.5rem}
.prev-top h2{font-family:'Syne',sans-serif;font-size:1.5rem;font-weight:800;letter-spacing:-.03em}
.prev-acts{display:flex;gap:.8rem;flex-wrap:wrap}
.btn-g{background:transparent;color:var(--text);padding:.7rem 1.4rem;font-family:'Syne',sans-serif;font-size:.82rem;font-weight:600;border:1px solid var(--border);cursor:pointer;transition:all .2s}
.btn-g:hover{border-color:var(--muted)}

.tpl-switcher-prev{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid var(--border)}
.ts-btn{background:var(--s1);border:1px solid var(--border);color:var(--muted);padding:.4rem .9rem;font-family:'JetBrains Mono',monospace;font-size:.58rem;text-transform:uppercase;letter-spacing:.08em;cursor:pointer;transition:all .2s;white-space:nowrap}
.ts-btn:hover{border-color:var(--muted);color:var(--text)}
.ts-btn.on{background:var(--acc-dim);border-color:var(--acc);color:var(--acc)}

.cv-paper-wrap{max-width:820px;margin:0 auto;box-shadow:0 24px 80px rgba(0,0,0,.7)}

/* OVERLAYS */
.ov{position:fixed;inset:0;z-index:500;background:rgba(10,10,8,.96);display:none;flex-direction:column;align-items:center;justify-content:center;gap:1.5rem}
.ov.show{display:flex}
.ov-sp{width:44px;height:44px;border:3px solid var(--border);border-top-color:var(--acc);border-radius:50%;animation:sp 1s linear infinite}
.ov-t{font-family:'Syne',sans-serif;font-size:.88rem;color:var(--acc);font-weight:700}
.ov-s{font-family:'JetBrains Mono',monospace;font-size:.62rem;text-transform:uppercase;letter-spacing:.1em;color:var(--muted)}

.toast{position:fixed;bottom:2rem;right:2rem;z-index:600;background:var(--s2);border:1px solid var(--green);color:var(--green);padding:.9rem 1.4rem;font-family:'JetBrains Mono',monospace;font-size:.7rem;text-transform:uppercase;letter-spacing:.08em;transform:translateY(120px);opacity:0;transition:all .3s;max-width:320px}
.toast.show{transform:translateY(0);opacity:1}

footer{border-top:1px solid var(--border);padding:2rem 4rem;display:flex;justify-content:space-between;flex-wrap:wrap;gap:1rem}
footer p{font-family:'JetBrains Mono',monospace;font-size:.58rem;text-transform:uppercase;letter-spacing:.1em;color:var(--muted)}

@media(max-width:1100px){.tpl-grid{grid-template-columns:repeat(4,1fr)}}
@media(max-width:860px){
  nav{padding:1rem 1.5rem}
  .hero-nums{gap:1.5rem}
  #gallery,.builder-head,.panel,.panel-nav,#preview,footer{padding-left:1.5rem;padding-right:1.5rem}
  .tpl-grid{grid-template-columns:repeat(3,1fr)}
  .fg{grid-template-columns:1fr}
}
@media(max-width:560px){.tpl-grid{grid-template-columns:repeat(2,1fr)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CV TEMPLATE RENDERERS  (10 layouts Ã— 5 color themes)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* ---- SHARED HELPERS ---- */
.cv-paper{font-size:14px}

/* COLOR PALETTES (applied via data-color on .cv-paper) */
/* Each layout reads --c1..--c5 from the palette */

/* PALETTE: navy */
[data-color="navy"]{--c1:#1b2a4a;--c2:#2c4a7e;--c3:#4a7fc1;--c4:#e8f0f8;--c5:#f5f8fc}
/* PALETTE: forest */
[data-color="forest"]{--c1:#1a3a2e;--c2:#2d6650;--c3:#4a9e7a;--c4:#e8f5ee;--c5:#f4fbf6}
/* PALETTE: charcoal */
[data-color="charcoal"]{--c1:#1a1a1a;--c2:#333333;--c3:#666666;--c4:#f0f0f0;--c5:#fafafa}
/* PALETTE: burgundy */
[data-color="burgundy"]{--c1:#4a1020;--c2:#7e1f38;--c3:#c44060;--c4:#faeef0;--c5:#fff5f6}
/* PALETTE: slate */
[data-color="slate"]{--c1:#2a3545;--c2:#455570;--c3:#7a93b8;--c4:#edf1f7;--c5:#f6f8fb}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 1: KRONOS â€“ Classic executive
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-kronos{background:#fff;font-family:'DM Sans',sans-serif;padding:3.2rem;color:#1a1a1a}
.cv-kronos .kh{border-bottom:3px solid var(--c1);padding-bottom:1.4rem;margin-bottom:1.4rem;display:flex;justify-content:space-between;align-items:flex-end}
.cv-kronos .kh-l .kname{font-size:2.4rem;font-weight:700;letter-spacing:-.03em;line-height:1;color:var(--c1)}
.cv-kronos .kh-l .ktitle{font-size:.9rem;color:var(--c3);margin-top:.3rem;font-weight:400}
.cv-kronos .kh-r{text-align:right}
.cv-kronos .kh-r .kci{font-size:.7rem;color:#555;line-height:1.8}
.cv-kronos .ks{margin-bottom:1.6rem}
.cv-kronos .ks-t{font-size:.55rem;font-weight:700;text-transform:uppercase;letter-spacing:.22em;color:var(--c3);border-bottom:1px solid var(--c4);padding-bottom:.35rem;margin-bottom:.9rem}
.cv-kronos .ke{margin-bottom:1.1rem}
.cv-kronos .ke-r{display:flex;justify-content:space-between;margin-bottom:.12rem}
.cv-kronos .ke-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
.cv-kronos .ke-date{font-size:.65rem;color:var(--c3)}
.cv-kronos .ke-org{font-size:.78rem;color:#666;margin-bottom:.3rem}
.cv-kronos .ke-d{font-size:.78rem;color:#444;line-height:1.6}
.cv-kronos .kp{font-size:.83rem;line-height:1.75;color:#333}
.cv-kronos .ksk{display:flex;flex-wrap:wrap;gap:.4rem}
.cv-kronos .ksk-i{background:var(--c4);color:var(--c1);padding:.2rem .65rem;font-size:.7rem;font-weight:600}
.cv-kronos .klg{display:grid;grid-template-columns:repeat(3,1fr);gap:.4rem}
.cv-kronos .klg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
.cv-kronos .klg-l{font-size:.68rem;color:#888}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 2: SIGMA â€“ Modern sidebar
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-sigma{background:#fff;font-family:'DM Sans',sans-serif;display:grid;grid-template-columns:220px 1fr;min-height:1000px;color:#1a1a1a}
.cv-sigma .ss{background:var(--c1);color:#fff;padding:2.2rem 1.5rem}
.cv-sigma .ss .sname{font-size:1.4rem;font-weight:700;line-height:1.1;color:#fff;margin-bottom:.3rem}
.cv-sigma .ss .stitle{font-size:.72rem;opacity:.75;margin-bottom:1.8rem;line-height:1.4}
.cv-sigma .ss .sblk{margin-bottom:1.6rem}
.cv-sigma .ss .sblk-t{font-size:.48rem;text-transform:uppercase;letter-spacing:.18em;opacity:.6;margin-bottom:.6rem;padding-bottom:.3rem;border-bottom:1px solid rgba(255,255,255,.12)}
.cv-sigma .ss .sci{font-size:.7rem;opacity:.85;margin-bottom:.4rem;line-height:1.4;word-break:break-all}
.cv-sigma .ss .sbar-n{font-size:.7rem;color:#fff;margin-bottom:.18rem}
.cv-sigma .ss .sbar-bg{height:3px;background:rgba(255,255,255,.15);border-radius:2px;margin-bottom:.5rem}
.cv-sigma .ss .sbar-f{height:100%;background:var(--c3);border-radius:2px}
.cv-sigma .ss .slg-n{font-size:.72rem;font-weight:700;color:#fff}
.cv-sigma .ss .slg-l{font-size:.64rem;opacity:.65;margin-bottom:.4rem}
.cv-sigma .sm{padding:2.2rem 1.8rem}
.cv-sigma .sm .mblk{margin-bottom:1.6rem}
.cv-sigma .sm .mblk-t{font-size:.52rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c2);border-bottom:2px solid var(--c1);padding-bottom:.3rem;margin-bottom:.9rem}
.cv-sigma .sm .me{margin-bottom:1rem}
.cv-sigma .sm .me-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
.cv-sigma .sm .me-pos{font-weight:700;font-size:.88rem}
.cv-sigma .sm .me-date{font-size:.64rem;color:var(--c3);font-weight:600}
.cv-sigma .sm .me-org{font-size:.76rem;color:#666;margin-bottom:.28rem}
.cv-sigma .sm .me-d{font-size:.76rem;color:#444;line-height:1.6}
.cv-sigma .sm .mp{font-size:.84rem;line-height:1.75;color:#333}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 3: AURUM â€“ Elegant serif
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-aurum{background:#fff;font-family:'Cormorant Garamond','Georgia',serif;padding:3.5rem;color:#2a2200}
.cv-aurum .ah{text-align:center;padding-bottom:1.5rem;margin-bottom:1.5rem;border-bottom:1px solid var(--c3)}
.cv-aurum .aname{font-size:3rem;font-weight:600;letter-spacing:.06em;line-height:1;color:var(--c1);margin-bottom:.4rem}
.cv-aurum .atitle{font-size:1rem;color:var(--c3);font-style:italic;margin-bottom:.8rem}
.cv-aurum .aci{display:flex;justify-content:center;flex-wrap:wrap;gap:1.5rem;font-size:.7rem;color:#666;font-family:'DM Sans',sans-serif}
.cv-aurum .as{margin-bottom:1.9rem}
.cv-aurum .as-t{font-size:.58rem;text-transform:uppercase;letter-spacing:.25em;color:var(--c3);text-align:center;font-family:'DM Sans',sans-serif;font-weight:600;margin-bottom:.5rem}
.cv-aurum .as-rule{width:36px;height:1px;background:var(--c3);margin:.3rem auto .9rem}
.cv-aurum .ae{margin-bottom:1.2rem}
.cv-aurum .ae-r{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:.18rem}
.cv-aurum .ae-pos{font-weight:600;font-size:.95rem;color:var(--c1)}
.cv-aurum .ae-date{font-size:.68rem;color:var(--c3);font-family:'DM Sans',sans-serif;font-style:italic}
.cv-aurum .ae-org{font-size:.8rem;color:var(--c3);font-style:italic;margin-bottom:.3rem}
.cv-aurum .ae-d{font-size:.8rem;color:#444;line-height:1.7;font-family:'DM Sans',sans-serif}
.cv-aurum .ap{font-size:.9rem;line-height:1.8;color:#333;font-style:italic;text-align:center}
.cv-aurum .ask{display:flex;justify-content:center;flex-wrap:wrap;gap:.5rem}
.cv-aurum .ask-i{border:1px solid var(--c3);color:var(--c3);padding:.18rem .7rem;font-size:.68rem;font-family:'DM Sans',sans-serif}
.cv-aurum .alg{display:flex;justify-content:center;gap:2.5rem;flex-wrap:wrap}
.cv-aurum .alg-n{font-weight:600;font-size:.82rem;text-align:center;color:var(--c1)}
.cv-aurum .alg-l{font-size:.68rem;color:var(--c3);font-style:italic;font-family:'DM Sans',sans-serif;text-align:center}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 4: VOID â€“ Ultra minimal
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-void{background:#fff;font-family:'DM Sans',sans-serif;padding:4rem;color:#111}
.cv-void .vh{margin-bottom:3rem}
.cv-void .vname{font-size:3.2rem;font-weight:300;letter-spacing:-.02em;line-height:1;margin-bottom:.4rem}
.cv-void .vname b{font-weight:700;color:var(--c1)}
.cv-void .vtitle{font-size:.78rem;text-transform:uppercase;letter-spacing:.22em;color:var(--c3);margin-bottom:.8rem}
.cv-void .vci{display:flex;gap:2rem;flex-wrap:wrap;font-size:.72rem;color:#777}
.cv-void .vbody{display:grid;grid-template-columns:1fr 185px;gap:3rem}
.cv-void .vs{margin-bottom:2rem}
.cv-void .vs-t{font-size:.52rem;text-transform:uppercase;letter-spacing:.22em;color:#ccc;margin-bottom:.5rem}
.cv-void .vs-line{width:18px;height:1px;background:var(--c1);margin-bottom:.8rem}
.cv-void .ve{margin-bottom:1.2rem}
.cv-void .ve-pos{font-weight:700;font-size:.86rem;color:var(--c1)}
.cv-void .ve-meta{font-size:.7rem;color:#aaa;margin-bottom:.28rem}
.cv-void .ve-d{font-size:.76rem;color:#555;line-height:1.65}
.cv-void .vp{font-size:.84rem;line-height:1.8;color:#333}
.cv-void .vsk{list-style:none}
.cv-void .vsk li{font-size:.76rem;color:#444;padding:.28rem 0;border-bottom:1px solid #f0f0f0}
.cv-void .vlg-i{margin-bottom:.55rem}
.cv-void .vlg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
.cv-void .vlg-l{font-size:.68rem;color:#aaa}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 5: GRID â€“ Two column symmetrical
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-grid{background:#fff;font-family:'DM Sans',sans-serif;padding:0;color:#1a1a1a}
.cv-grid .ghdr{background:var(--c1);color:#fff;padding:2.5rem 3rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
.cv-grid .ghdr-l .gname{font-size:2.2rem;font-weight:700;letter-spacing:-.02em;line-height:1;color:#fff;margin-bottom:.25rem}
.cv-grid .ghdr-l .gtitle{font-size:.82rem;opacity:.75}
.cv-grid .ghdr-r .gci{font-size:.68rem;opacity:.8;line-height:1.9;text-align:right}
.cv-grid .gbody{display:grid;grid-template-columns:1fr 1fr;gap:0}
.cv-grid .gcol{padding:2rem 2.5rem}
.cv-grid .gcol:first-child{border-right:1px solid var(--c4)}
.cv-grid .gs{margin-bottom:1.8rem}
.cv-grid .gs-t{font-size:.52rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);border-bottom:2px solid var(--c4);padding-bottom:.3rem;margin-bottom:.9rem}
.cv-grid .ge{margin-bottom:1.1rem}
.cv-grid .ge-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
.cv-grid .ge-pos{font-weight:700;font-size:.86rem;color:var(--c1)}
.cv-grid .ge-date{font-size:.63rem;color:var(--c3)}
.cv-grid .ge-org{font-size:.75rem;color:#666;margin-bottom:.28rem}
.cv-grid .ge-d{font-size:.75rem;color:#444;line-height:1.6}
.cv-grid .gp{font-size:.82rem;line-height:1.75;color:#333}
.cv-grid .gsk{display:flex;flex-wrap:wrap;gap:.4rem}
.cv-grid .gsk-i{background:var(--c4);color:var(--c2);padding:.18rem .6rem;font-size:.68rem;font-weight:600}
.cv-grid .glg-i{margin-bottom:.5rem}
.cv-grid .glg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
.cv-grid .glg-l{font-size:.68rem;color:#888}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 6: PULSE â€“ Tech / IT accented
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-pulse{background:#fff;font-family:'Space Grotesk',sans-serif;padding:0;color:#111}
.cv-pulse .phdr{padding:2.5rem 3rem 1.5rem;border-left:4px solid var(--c1);margin:2rem 3rem 0}
.cv-pulse .pname{font-size:2.5rem;font-weight:700;letter-spacing:-.04em;color:var(--c1);line-height:1;margin-bottom:.25rem}
.cv-pulse .ptitle{font-size:.78rem;text-transform:uppercase;letter-spacing:.18em;color:var(--c3);margin-bottom:.8rem}
.cv-pulse .pci{display:flex;gap:1.5rem;flex-wrap:wrap;font-size:.68rem;color:#666}
.cv-pulse .pbody{padding:1.5rem 3rem 3rem;display:grid;grid-template-columns:1fr 200px;gap:2.5rem}
.cv-pulse .ps{margin-bottom:1.8rem}
.cv-pulse .ps-t{font-size:.52rem;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);margin-bottom:.7rem;display:flex;align-items:center;gap:.6rem}
.cv-pulse .ps-t::after{content:'';flex:1;height:1px;background:var(--c4)}
.cv-pulse .pe{margin-bottom:1.1rem}
.cv-pulse .pe-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
.cv-pulse .pe-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
.cv-pulse .pe-date{font-size:.63rem;color:var(--c3);font-weight:500}
.cv-pulse .pe-org{font-size:.75rem;color:#666;margin-bottom:.28rem}
.cv-pulse .pe-d{font-size:.75rem;color:#444;line-height:1.6}
.cv-pulse .pp{font-size:.84rem;line-height:1.75;color:#333}
.cv-pulse .psk{display:flex;flex-wrap:wrap;gap:.4rem}
.cv-pulse .psk-i{background:var(--c4);color:var(--c2);padding:.2rem .6rem;font-size:.68rem;font-weight:600;border-radius:2px}
.cv-pulse .plg-i{margin-bottom:.55rem}
.cv-pulse .plg-n{font-weight:700;font-size:.8rem;color:var(--c1)}
.cv-pulse .plg-l{font-size:.68rem;color:#888}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 7: FLORA â€“ Healthcare / warm
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-flora{background:#fff;font-family:'DM Sans',sans-serif;padding:3.2rem;color:#1a1a1a}
.cv-flora .fhdr{display:flex;gap:2rem;align-items:flex-start;padding-bottom:1.5rem;margin-bottom:1.5rem;border-bottom:2px solid var(--c4)}
.cv-flora .fhdr-avatar{width:72px;height:72px;background:var(--c1);border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:1.6rem;color:#fff;font-weight:700}
.cv-flora .fhdr-info .fname{font-size:2.2rem;font-weight:700;letter-spacing:-.02em;line-height:1;color:var(--c1);margin-bottom:.25rem}
.cv-flora .fhdr-info .ftitle{font-size:.82rem;color:var(--c3);margin-bottom:.6rem}
.cv-flora .fhdr-info .fci{display:flex;flex-wrap:wrap;gap:1.2rem;font-size:.68rem;color:#555}
.cv-flora .fs{margin-bottom:1.7rem}
.cv-flora .fs-t{font-size:.54rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);border-left:3px solid var(--c1);padding-left:.5rem;margin-bottom:.9rem}
.cv-flora .fe{margin-bottom:1.1rem}
.cv-flora .fe-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
.cv-flora .fe-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
.cv-flora .fe-date{font-size:.65rem;color:var(--c3)}
.cv-flora .fe-org{font-size:.76rem;color:#666;margin-bottom:.3rem}
.cv-flora .fe-d{font-size:.76rem;color:#444;line-height:1.65}
.cv-flora .fp{font-size:.83rem;line-height:1.75;color:#333}
.cv-flora .fsk{display:flex;flex-wrap:wrap;gap:.4rem}
.cv-flora .fsk-i{border:1px solid var(--c3);color:var(--c2);padding:.18rem .6rem;font-size:.7rem;border-radius:20px}
.cv-flora .flg-i{margin-bottom:.5rem;display:flex;align-items:center;gap:.6rem}
.cv-flora .flg-n{font-weight:700;font-size:.78rem;color:var(--c1);min-width:70px}
.cv-flora .flg-l{font-size:.68rem;color:#888}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 8: MOTION â€“ Creative / editorial
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-motion{background:var(--c1);font-family:'Syne','DM Sans',sans-serif;color:#fff;padding:0}
.cv-motion .mhdr{padding:2.8rem;border-bottom:1px solid rgba(255,255,255,.1)}
.cv-motion .mname{font-size:3rem;font-weight:800;letter-spacing:-.04em;line-height:.92;margin-bottom:.4rem}
.cv-motion .mtitle{font-size:.8rem;text-transform:uppercase;letter-spacing:.2em;opacity:.6;margin-bottom:.8rem}
.cv-motion .mci{display:flex;gap:1.5rem;flex-wrap:wrap;font-size:.7rem;opacity:.7}
.cv-motion .mbody{display:grid;grid-template-columns:1fr 210px;gap:0}
.cv-motion .mmain{padding:2rem 2.8rem;border-right:1px solid rgba(255,255,255,.1)}
.cv-motion .mside{padding:2rem 1.8rem;background:rgba(0,0,0,.2)}
.cv-motion .ms{margin-bottom:1.8rem}
.cv-motion .ms-t{font-size:.52rem;text-transform:uppercase;letter-spacing:.2em;opacity:.5;margin-bottom:.8rem}
.cv-motion .me{margin-bottom:1.2rem;padding-bottom:1.2rem;border-bottom:1px solid rgba(255,255,255,.08)}
.cv-motion .me:last-child{border-bottom:none}
.cv-motion .me-r{display:flex;justify-content:space-between;margin-bottom:.12rem}
.cv-motion .me-pos{font-weight:700;font-size:.88rem}
.cv-motion .me-date{font-size:.65rem;opacity:.6}
.cv-motion .me-org{font-size:.76rem;opacity:.65;margin-bottom:.3rem}
.cv-motion .me-d{font-size:.76rem;opacity:.8;line-height:1.6}
.cv-motion .mp{font-size:.84rem;line-height:1.75;opacity:.85}
.cv-motion .msk{display:flex;flex-wrap:wrap;gap:.4rem}
.cv-motion .msk-i{background:rgba(255,255,255,.1);color:#fff;padding:.2rem .6rem;font-size:.68rem;font-weight:600}
.cv-motion .mlg-i{margin-bottom:.55rem}
.cv-motion .mlg-n{font-weight:700;font-size:.78rem}
.cv-motion .mlg-l{font-size:.66rem;opacity:.55}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 9: STRATA â€“ Layered band header
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-strata{background:#fff;font-family:'DM Sans',sans-serif;color:#1a1a1a}
.cv-strata .shdr{background:var(--c1);padding:2rem 3rem;position:relative}
.cv-strata .sname{font-size:2.6rem;font-weight:700;color:#fff;letter-spacing:-.03em;line-height:1;margin-bottom:.2rem}
.cv-strata .stitle-band{background:var(--c2);padding:.6rem 3rem;font-size:.72rem;text-transform:uppercase;letter-spacing:.18em;color:rgba(255,255,255,.8)}
.cv-strata .sci-band{background:var(--c4);padding:.7rem 3rem;display:flex;flex-wrap:wrap;gap:1.5rem;font-size:.68rem;color:var(--c2)}
.cv-strata .sbody{padding:2rem 3rem;display:grid;grid-template-columns:1fr 200px;gap:2.5rem}
.cv-strata .ss2{margin-bottom:1.8rem}
.cv-strata .ss2-t{font-size:.52rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);border-bottom:2px solid var(--c4);padding-bottom:.3rem;margin-bottom:.9rem}
.cv-strata .se{margin-bottom:1.1rem}
.cv-strata .se-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
.cv-strata .se-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
.cv-strata .se-date{font-size:.65rem;color:var(--c3)}
.cv-strata .se-org{font-size:.76rem;color:#666;margin-bottom:.28rem}
.cv-strata .se-d{font-size:.76rem;color:#444;line-height:1.6}
.cv-strata .sp2{font-size:.83rem;line-height:1.75;color:#333}
.cv-strata .ssk{display:flex;flex-wrap:wrap;gap:.4rem}
.cv-strata .ssk-i{background:var(--c4);color:var(--c2);padding:.18rem .6rem;font-size:.68rem;font-weight:600}
.cv-strata .slg-i{margin-bottom:.55rem}
.cv-strata .slg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
.cv-strata .slg-l{font-size:.68rem;color:#888}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT 10: APEX â€“ Top banner accent
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cv-apex{background:#fff;font-family:'DM Sans',sans-serif;color:#1a1a1a}
.cv-apex .apex-bar{height:6px;background:var(--c1)}
.cv-apex .ahdr{padding:2.5rem 3rem;display:grid;grid-template-columns:1fr auto;gap:2rem;align-items:start;border-bottom:1px solid #eee}
.cv-apex .aname{font-size:2.6rem;font-weight:700;letter-spacing:-.03em;line-height:1;margin-bottom:.25rem}
.cv-apex .atitle{font-size:.82rem;color:var(--c3);margin-bottom:.6rem}
.cv-apex .aci{display:flex;flex-wrap:wrap;gap:1rem;font-size:.68rem;color:#555}
.cv-apex .aci-r{text-align:right}
.cv-apex .aci-r span{display:block;font-size:.68rem;color:#555;line-height:1.8}
.cv-apex .abody{padding:2rem 3rem;display:grid;grid-template-columns:1fr 200px;gap:2.5rem}
.cv-apex .ax{margin-bottom:1.8rem}
.cv-apex .ax-t{font-size:.52rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);border-bottom:2px solid var(--c1);padding-bottom:.3rem;margin-bottom:.9rem}
.cv-apex .ae{margin-bottom:1.1rem}
.cv-apex .ae-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
.cv-apex .ae-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
.cv-apex .ae-date{font-size:.64rem;color:var(--c3)}
.cv-apex .ae-org{font-size:.76rem;color:#666;margin-bottom:.28rem}
.cv-apex .ae-d{font-size:.76rem;color:#444;line-height:1.6}
.cv-apex .apro{font-size:.83rem;line-height:1.75;color:#333}
.cv-apex .ask{display:flex;flex-wrap:wrap;gap:.4rem}
.cv-apex .ask-i{background:var(--c4);color:var(--c2);padding:.18rem .6rem;font-size:.68rem;font-weight:600}
.cv-apex .alg-i{margin-bottom:.55rem}
.cv-apex .alg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
.cv-apex .alg-l{font-size:.68rem;color:#888}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="logo"><div class="logo-dot"></div>CV-Byggaren</div>
  <div class="nav-r">
    <a class="nav-link" href="#gallery">Mallar</a>
    <button class="nav-btn" onclick="smoothTo('gallery')">VÃ¤lj mall â†’</button>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-mesh"></div><div class="hero-lines"></div>
  <div style="position:relative;z-index:1;max-width:840px">
    <div class="h-badge">âœ¦ 50 mallar Â· AI-drivet Â· 100% gratis</div>
    <h1>Skapa ett <i>perfekt</i><br>CV som sticker ut</h1>
    <p class="hero-sub">VÃ¤lj bland 50 professionella mallar designade fÃ¶r svenska arbetsgivare. AI skriver texten â€“ du laddar ner.</p>
    <div class="hero-btns">
      <button class="btn-acc" onclick="smoothTo('gallery')">Se alla 50 mallar â†’</button>
      <button class="btn-out" onclick="smoothTo('gallery')">Hur det fungerar</button>
    </div>
    <div class="hero-nums">
      <div><span class="hnum-n">50</span><span class="hnum-l">Unika mallar</span></div>
      <div><span class="hnum-n">AI</span><span class="hnum-l">Skriver texten</span></div>
      <div><span class="hnum-n">100%</span><span class="hnum-l">Gratis alltid</span></div>
    </div>
  </div>
</section>

<!-- GALLERY -->
<section id="gallery">
  <div class="gallery-top">
    <div>
      <div class="eyebrow">Steg 1 â€“ VÃ¤lj din mall</div>
      <div class="gallery-title">50 <em>professionella</em> mallar</div>
    </div>
    <div class="filters" id="filters">
      <button class="filt-btn on" data-f="all">Alla (50)</button>
      <button class="filt-btn" data-f="klassisk">Klassisk</button>
      <button class="filt-btn" data-f="modern">Modern</button>
      <button class="filt-btn" data-f="kreativ">Kreativ</button>
      <button class="filt-btn" data-f="tech">Tech & IT</button>
      <button class="filt-btn" data-f="sjukvard">SjukvÃ¥rd</button>
    </div>
  </div>

  <div class="gallery-meta">Visar <span id="count-shown">50</span> av 50 mallar Â· <span id="sel-name" style="color:var(--acc)">Ingen vald</span></div>

  <div class="tpl-grid" id="tpl-grid">
    <!-- Cards injected by JS -->
  </div>

  <div class="gallery-cta">
    <button class="btn-acc" id="gallery-continue" onclick="startBuilder()" style="opacity:.4;pointer-events:none">FortsÃ¤tt med vald mall â†’</button>
  </div>
</section>

<!-- BUILDER -->
<section id="builder">
  <div class="builder-head">
    <div class="eyebrow">Steg 2 â€“ Fyll i dina uppgifter</div>
    <div style="font-family:'Syne',sans-serif;font-size:2rem;font-weight:800;letter-spacing:-.03em;margin-bottom:.3rem">BerÃ¤tta om <em style="font-family:'Instrument Serif',serif;font-style:italic;font-weight:400;color:var(--acc)">dig</em></div>
    <p style="color:var(--muted);font-size:.85rem">AI hjÃ¤lper dig skriva professionella texter â€“ du kan ocksÃ¥ skriva sjÃ¤lv</p>
  </div>

  <div class="steps-row">
    <div class="stp active" id="stp-1" onclick="goStep(1)"><div class="stp-n">1</div><div class="stp-l">Personuppgifter<span class="stp-s">Namn & kontakt</span></div></div>
    <div class="stp" id="stp-2" onclick="goStep(2)"><div class="stp-n">2</div><div class="stp-l">Sammanfattning<span class="stp-s">Profil</span></div></div>
    <div class="stp" id="stp-3" onclick="goStep(3)"><div class="stp-n">3</div><div class="stp-l">Erfarenhet<span class="stp-s">Jobb & praktik</span></div></div>
    <div class="stp" id="stp-4" onclick="goStep(4)"><div class="stp-n">4</div><div class="stp-l">Utbildning<span class="stp-s">Skola & kurser</span></div></div>
    <div class="stp" id="stp-5" onclick="goStep(5)"><div class="stp-n">5</div><div class="stp-l">Kompetenser<span class="stp-s">Skills & sprÃ¥k</span></div></div>
  </div>

  <div class="panels-wrap">
    <!-- P1 -->
    <div class="panel active" id="pan-1">
      <div class="p-title">Personuppgifter</div><p class="p-desc">GrundlÃ¤ggande information om dig</p>
      <div class="fg">
        <div class="fld"><label>FÃ¶rnamn *</label><input id="p-fn" placeholder="Alex"></div>
        <div class="fld"><label>Efternamn *</label><input id="p-en" placeholder="Svensson"></div>
        <div class="fld"><label>Yrkestitel / Roll</label><input id="p-ti" placeholder="t.ex. SjukskÃ¶terska, Webbutvecklare, SÃ¤ljare"></div>
        <div class="fld"><label>E-post *</label><input type="email" id="p-em" placeholder="alex@email.se"></div>
        <div class="fld"><label>Telefon</label><input id="p-tel" placeholder="070-123 45 67"></div>
        <div class="fld"><label>Stad</label><input id="p-stad" placeholder="Stockholm"></div>
        <div class="fld"><label>LinkedIn (valfritt)</label><input id="p-li" placeholder="linkedin.com/in/alexsvensson"></div>
        <div class="fld"><label>Hemsida / Portfolio</label><input id="p-web" placeholder="alexsvensson.se"></div>
      </div>
    </div>
    <!-- P2 -->
    <div class="panel" id="pan-2">
      <div class="p-title">Professionell sammanfattning</div><p class="p-desc">3â€“4 meningar om dig som visas hÃ¶gst upp. LÃ¥t AI skriva Ã¥t dig!</p>
      <div class="fg one"><div class="fld"><label>BerÃ¤tta kort om dig sjÃ¤lv</label><textarea id="s-raw" placeholder="t.ex. Jag Ã¤r en motiverad student som sÃ¶ker mitt fÃ¶rsta jobb..."></textarea></div></div>
      <button class="ai-row" id="ai-sum" onclick="genSum()"><div class="spin"></div><span>âœ¦ Generera med AI</span></button>
      <div class="fg one" style="margin-top:1rem"><div class="fld"><label>FÃ¤rdig sammanfattning (redigera fritt)</label><textarea id="s-fin" placeholder="AI-genererad text visas hÃ¤r..." style="height:115px"></textarea></div></div>
    </div>
    <!-- P3 -->
    <div class="panel" id="pan-3">
      <div class="p-title">Arbetslivserfarenhet</div><p class="p-desc">Jobb, praktik eller volontÃ¤rarbete â€“ inget jobb? Hoppa vidare.</p>
      <div id="jobb-list"></div>
      <button class="add-row" onclick="addJ()">+ LÃ¤gg till erfarenhet</button>
    </div>
    <!-- P4 -->
    <div class="panel" id="pan-4">
      <div class="p-title">Utbildning</div><p class="p-desc">Gymnasium, hÃ¶gskola, certifikat eller kurser.</p>
      <div id="utb-list"></div>
      <button class="add-row" onclick="addU()">+ LÃ¤gg till utbildning</button>
    </div>
    <!-- P5 -->
    <div class="panel" id="pan-5">
      <div class="p-title">Kompetenser & SprÃ¥k</div><p class="p-desc">Dina fÃ¤rdigheter och vilka sprÃ¥k du talar.</p>
      <div class="fg one" style="margin-bottom:1.8rem">
        <div class="fld"><label>FÃ¤rdigheter (separera med komma)</label><input id="k-sk" placeholder="t.ex. Python, Adobe Suite, Kundservice, Teamarbete, Excel"></div>
      </div>
      <div id="lang-list"></div>
      <button class="add-row" onclick="addL()">+ LÃ¤gg till sprÃ¥k</button>
      <div class="fg one" style="margin-top:1.8rem">
        <div class="fld"><label>Ã–vrigt (kÃ¶rkort, intressen m.m.)</label><textarea id="k-ov" placeholder="t.ex. B-kÃ¶rkort, intresserad av sport..."></textarea></div>
      </div>
    </div>
  </div>

  <div class="panel-nav">
    <button class="btn-back" id="btn-bk" onclick="stepBack()" style="visibility:hidden">â† FÃ¶regÃ¥ende</button>
    <span class="stp-info" id="stp-info">Steg 1 av 5</span>
    <button class="btn-fwd" id="btn-fw" onclick="stepFwd()">NÃ¤sta steg â†’</button>
  </div>
</section>

<!-- PREVIEW -->
<div id="preview">
  <div class="prev-top">
    <div>
      <h2>Ditt CV Ã¤r klart! ğŸ‰</h2>
      <p style="color:var(--muted);font-size:.82rem;margin-top:.25rem">Granska, byt mall och ladda ner som PDF</p>
    </div>
    <div class="prev-acts">
      <button class="btn-g" onclick="goStep(1);smoothTo('builder')">â† Redigera</button>
      <button class="btn-acc" onclick="dlCV()">â¬‡ Ladda ner PDF</button>
    </div>
  </div>
  <div class="tpl-switcher-prev" id="prev-switcher">
    <!-- Buttons injected by JS -->
  </div>
  <div class="cv-paper-wrap" id="cv-out"></div>
</div>

<!-- OVERLAYS -->
<div class="ov" id="ov"><div class="ov-sp"></div><div class="ov-t" id="ov-t">Genererar...</div><div class="ov-s">VÃ¤nta nÃ¥gra sekunder</div></div>
<div class="toast" id="toast"></div>

<footer>
  <p>Â© 2025 CV-Byggaren â€“ Alltid 100% gratis</p>
  <p>50 mallar Â· AI-drivet Â· Byggt fÃ¶r svenska jobbsÃ¶kare</p>
</footer>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TEMPLATE DEFINITIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const COLORS = ['navy','forest','charcoal','burgundy','slate'];
const COLOR_LABELS = {navy:'Navy BlÃ¥',forest:'SkogsgrÃ¶nt',charcoal:'Antracit',burgundy:'Burgundy',slate:'Skiffer'};

const LAYOUTS = [
  {id:'kronos', name:'Kronos',    cls:'cv-kronos', cat:['klassisk','kontor'], desc:'Executive klassiker'},
  {id:'sigma',  name:'Sigma',     cls:'cv-sigma',  cat:['modern','tech'],     desc:'SidofÃ¤lt modern'},
  {id:'aurum',  name:'Aurum',     cls:'cv-aurum',  cat:['klassisk','kreativ'],desc:'Elegant serif'},
  {id:'void',   name:'Void',      cls:'cv-void',   cat:['modern','kreativ'],  desc:'Ultra minimal'},
  {id:'grid',   name:'Grid',      cls:'cv-grid',   cat:['klassisk','sjukvard'],desc:'Symmetrisk tvÃ¥kolumn'},
  {id:'pulse',  name:'Pulse',     cls:'cv-pulse',  cat:['tech','modern'],     desc:'Tech-fokuserad'},
  {id:'flora',  name:'Flora',     cls:'cv-flora',  cat:['sjukvard','klassisk'],desc:'Varmt & personligt'},
  {id:'motion', name:'Motion',    cls:'cv-motion', cat:['kreativ','modern'],  desc:'Kreativ mÃ¶rk'},
  {id:'strata', name:'Strata',    cls:'cv-strata', cat:['modern','tech'],     desc:'Bandhuvud'},
  {id:'apex',   name:'Apex',      cls:'cv-apex',   cat:['klassisk','sjukvard'],desc:'Accentlinje'},
];

// Build 50 template configs
const TEMPLATES = [];
LAYOUTS.forEach(lay => {
  COLORS.forEach(col => {
    TEMPLATES.push({
      id: `${lay.id}-${col}`,
      layout: lay.id,
      color: col,
      name: `${lay.name} ${COLOR_LABELS[col]}`,
      cls: lay.cls,
      cat: lay.cat,
      desc: lay.desc,
    });
  });
});

let selTpl = null;
let step = 1;
let jCount=0, uCount=0, lCount=0;
let lastData = {};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER GALLERY CARDS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buildGallery() {
  const grid = document.getElementById('tpl-grid');
  grid.innerHTML = '';
  TEMPLATES.forEach(t => {
    const card = document.createElement('div');
    card.className = 'tpl-card';
    card.id = 'card-' + t.id;
    card.dataset.cat = t.cat.join(' ');
    card.onclick = () => pickTemplate(t.id);

    const thumb = buildThumb(t);
    const tags = t.cat.map(c => `<span class="tpl-tag">${c}</span>`).join('');
    card.innerHTML = `
      <div class="tpl-thumb">${thumb}</div>
      <div class="tpl-foot">
        <div class="tpl-foot-name">${t.name}</div>
        <div class="tpl-foot-tags">${tags}</div>
      </div>`;
    grid.appendChild(card);
  });
}

function buildThumb(t) {
  const demo = getDemoData();
  const html = renderTemplate(t.layout, t.color, demo);
  // Scale down preview
  const scale = 0.22;
  return `<div style="width:${100/scale}%;height:${100/scale}%;transform:scale(${scale});transform-origin:top left;pointer-events:none">${html}</div>`;
}

function getDemoData() {
  return {
    fn:'Anna', en:'Lindqvist', titel:'Marknadskoordinator',
    email:'anna@email.se', tel:'070-123 45 67', stad:'Stockholm',
    li:'', web:'',
    summary:'Engagerad marknadsfÃ¶rare med 3 Ã¥rs erfarenhet av digital kommunikation och kampanjplanering. Stark fÃ¶rmÃ¥ga att leverera mÃ¤tbara resultat i hÃ¶gt tempo.',
    jobb:[{pos:'Marknadskoordinator',org:'FÃ¶retag AB',start:'Jan 2022',slut:'Nu',stad:'Stockholm',desc:'Ansvarar fÃ¶r digital nÃ¤rvaro och kampanjer. Ã–kade organisk trafik med 40%.'}],
    utb:[{prog:'MarknadsfÃ¶ring',skola:'Stockholms Universitet',start:'2018',slut:'2021',stad:'Stockholm',betyg:''}],
    skills:['Adobe Suite','Google Ads','SEO/SEM','Copywriting','Projektledning'],
    sprak:[{n:'Svenska',l:'ModersmÃ¥l'},{n:'Engelska',l:'Flytande'}],
    ovrigt:'B-kÃ¶rkort'
  };
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FILTERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.getElementById('filters').addEventListener('click', e => {
  const btn = e.target.closest('.filt-btn');
  if (!btn) return;
  document.querySelectorAll('.filt-btn').forEach(b => b.classList.remove('on'));
  btn.classList.add('on');
  const f = btn.dataset.f;
  let shown = 0;
  document.querySelectorAll('.tpl-card').forEach(card => {
    const cats = card.dataset.cat;
    const vis = f === 'all' || cats.includes(f);
    card.classList.toggle('hidden', !vis);
    if (vis) shown++;
  });
  document.getElementById('count-shown').textContent = shown;
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TEMPLATE SELECTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function pickTemplate(id) {
  selTpl = id;
  document.querySelectorAll('.tpl-card').forEach(c => c.classList.remove('sel'));
  document.getElementById('card-' + id).classList.add('sel');
  const t = TEMPLATES.find(x => x.id === id);
  document.getElementById('sel-name').textContent = t.name;
  const btn = document.getElementById('gallery-continue');
  btn.style.opacity = '1';
  btn.style.pointerEvents = 'auto';
  toast('âœ“ Vald: ' + t.name);
}

function startBuilder() {
  if (!selTpl) { toast('âš  VÃ¤lj en mall fÃ¶rst!'); return; }
  document.getElementById('builder').style.display = 'block';
  smoothTo('builder');
  toast('âœ“ Fyll i dina uppgifter nedan');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STEPS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function goStep(s) {
  document.querySelector('.panel.active')?.classList.remove('active');
  document.getElementById('pan-' + s).classList.add('active');
  document.querySelectorAll('.stp').forEach((el, i) => {
    el.classList.remove('active','done');
    if (i + 1 < s) el.classList.add('done');
  });
  document.getElementById('stp-' + s).classList.add('active');
  step = s;
  document.getElementById('stp-info').textContent = `Steg ${s} av 5`;
  document.getElementById('btn-bk').style.visibility = s > 1 ? 'visible' : 'hidden';
  document.getElementById('btn-fw').textContent = s === 5 ? 'Generera mitt CV âœ¦' : 'NÃ¤sta steg â†’';
  smoothTo('builder');
}
function stepFwd() { step === 5 ? genCV() : goStep(step + 1); }
function stepBack() { goStep(step - 1); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// REPEATABLE FIELDS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addJ() {
  jCount++;
  const n = jCount;
  document.getElementById('jobb-list').insertAdjacentHTML('beforeend', `
    <div class="rep-block" id="jb${n}">
      <div class="rep-head"><span class="rep-label">Erfarenhet #${n}</span><button class="rm-btn" onclick="document.getElementById('jb${n}').remove()">Ta bort</button></div>
      <div class="fg">
        <div class="fld"><label>Jobbtitel *</label><input id="j${n}t" placeholder="t.ex. SjukskÃ¶terska, KassÃ¶r, Praktikant"></div>
        <div class="fld"><label>Arbetsgivare *</label><input id="j${n}o" placeholder="t.ex. Karolinska, ICA, FÃ¶retag AB"></div>
        <div class="fld"><label>Startdatum</label><input id="j${n}s" placeholder="Jan 2022"></div>
        <div class="fld"><label>Slutdatum</label><input id="j${n}e" placeholder="Jun 2024 (eller Nuvarande)"></div>
        <div class="fld"><label>Stad</label><input id="j${n}c" placeholder="Stockholm"></div>
      </div>
      <div class="fld" style="margin-top:1rem"><label>Vad jobbade du med?</label><textarea id="j${n}r" placeholder="t.ex. Ansvarade fÃ¶r patientvÃ¥rd, jobbade i kassan, hÃ¶ll workshops..."></textarea></div>
      <button class="ai-row" id="ai-j${n}" onclick="genJob(${n})"><div class="spin"></div><span>âœ¦ FÃ¶rbÃ¤ttra med AI</span></button>
      <div class="fld" style="margin-top:.8rem"><label>FÃ¶rbÃ¤ttrad beskrivning</label><textarea id="j${n}f" placeholder="AI-text visas hÃ¤r..."></textarea></div>
    </div>`);
}

function addU() {
  uCount++;
  const n = uCount;
  document.getElementById('utb-list').insertAdjacentHTML('beforeend', `
    <div class="rep-block" id="ub${n}">
      <div class="rep-head"><span class="rep-label">Utbildning #${n}</span><button class="rm-btn" onclick="document.getElementById('ub${n}').remove()">Ta bort</button></div>
      <div class="fg">
        <div class="fld"><label>Program / Utbildning *</label><input id="u${n}p" placeholder="t.ex. OmvÃ¥rdnadsprogrammet, Datateknik"></div>
        <div class="fld"><label>Skola / LÃ¤rosÃ¤te *</label><input id="u${n}s" placeholder="t.ex. KI, KTH, Jensen Gymnasium"></div>
        <div class="fld"><label>StartÃ¥r</label><input id="u${n}b" placeholder="2020"></div>
        <div class="fld"><label>SlutÃ¥r</label><input id="u${n}e" placeholder="2023 eller PÃ¥gÃ¥ende"></div>
        <div class="fld"><label>Stad</label><input id="u${n}c" placeholder="Stockholm"></div>
        <div class="fld"><label>Betyg / Inriktning</label><input id="u${n}g" placeholder="t.ex. Merit 18.5, Inriktning webb"></div>
      </div>
    </div>`);
}

function addL() {
  lCount++;
  const n = lCount;
  document.getElementById('lang-list').insertAdjacentHTML('beforeend', `
    <div class="rep-block" id="lb${n}" style="padding:1rem">
      <div class="rep-head"><span class="rep-label">SprÃ¥k #${n}</span><button class="rm-btn" onclick="document.getElementById('lb${n}').remove()">Ta bort</button></div>
      <div class="fg">
        <div class="fld"><label>SprÃ¥k</label><input id="l${n}n" placeholder="t.ex. Svenska, Engelska, Arabiska"></div>
        <div class="fld"><label>NivÃ¥</label><select id="l${n}l">
          <option>ModersmÃ¥l</option><option>Flytande</option><option>Avancerad</option><option>MellannivÃ¥</option><option>GrundlÃ¤ggande</option>
        </select></div>
      </div>
    </div>`);
}

// Init defaults
addJ(); addU(); addL();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AI CALLS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function claude(prompt) {
  const r = await fetch("https://api.anthropic.com/v1/messages", {
    method:"POST", headers:{"Content-Type":"application/json"},
    body: JSON.stringify({
      model:"claude-sonnet-4-20250514", max_tokens:600,
      system:"Du Ã¤r expert pÃ¥ svenska CV-texter. Skriv professionell, naturlig svenska anpassad fÃ¶r svenska arbetsgivare. Svara ENBART med den fÃ¤rdiga texten â€“ ingen rubrik, inga fÃ¶rklaringar.",
      messages:[{role:"user",content:prompt}]
    })
  });
  const d = await r.json();
  if (d.error) throw new Error(d.error.message);
  return d.content?.[0]?.text?.trim() || '';
}

async function genSum() {
  const raw = v('s-raw'), ti = v('p-ti'), fn = v('p-fn'), en = v('p-en');
  if (!raw && !ti) { toast('âš  Fyll i lite info om dig fÃ¶rst!'); return; }
  const btn = document.getElementById('ai-sum');
  btn.classList.add('ld'); btn.querySelector('span').textContent = 'Genererar...';
  try {
    const txt = await claude(`Skriv en professionell CV-sammanfattning pÃ¥ svenska (3-4 meningar, 60-80 ord).\nPerson: ${fn} ${en}\nRoll: ${ti||'JobbsÃ¶kare'}\nBakgrund: ${raw||'Motiverad person'}\nTon: Professionell men personlig, fÃ¶r svenska arbetsgivare.`);
    document.getElementById('s-fin').value = txt;
    toast('âœ“ Sammanfattning genererad!');
  } catch(e) { toast('âš  AI-fel â€“ fÃ¶rsÃ¶k igen'); }
  btn.classList.remove('ld'); btn.querySelector('span').textContent = 'âœ¦ Generera med AI';
}

async function genJob(n) {
  const t = v(`j${n}t`), o = v(`j${n}o`), raw = v(`j${n}r`);
  if (!t) { toast('âš  Fyll i jobbtitel fÃ¶rst!'); return; }
  const btn = document.getElementById(`ai-j${n}`);
  btn.classList.add('ld'); btn.querySelector('span').textContent = 'FÃ¶rbÃ¤ttrar...';
  try {
    const txt = await claude(`Skriv en professionell arbetsbeskrivning fÃ¶r CV pÃ¥ svenska (3-4 meningar).\nJobbtitel: ${t}\nArbetsgivare: ${o||''}\nArbetsuppgifter: ${raw||'Generella arbetsuppgifter'}\nVar konkret och lyft fram ansvar och resultat.`);
    document.getElementById(`j${n}f`).value = txt;
    toast('âœ“ Beskrivning fÃ¶rbÃ¤ttrad!');
  } catch(e) { toast('âš  AI-fel â€“ fÃ¶rsÃ¶k igen'); }
  btn.classList.remove('ld'); btn.querySelector('span').textContent = 'âœ¦ FÃ¶rbÃ¤ttra med AI';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA COLLECTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function v(id) { return (document.getElementById(id)?.value||'').trim(); }

function getData() {
  const d = {
    fn:v('p-fn'), en:v('p-en'), titel:v('p-ti'),
    email:v('p-em'), tel:v('p-tel'), stad:v('p-stad'),
    li:v('p-li'), web:v('p-web'),
    summary: v('s-fin') || v('s-raw'),
    skills: v('k-sk') ? v('k-sk').split(',').map(x=>x.trim()).filter(Boolean) : [],
    ovrigt: v('k-ov'),
    jobb:[], utb:[], sprak:[]
  };
  for (let i=1;i<=jCount;i++) {
    if (!document.getElementById(`jb${i}`)) continue;
    const t = v(`j${i}t`); if (!t) continue;
    d.jobb.push({pos:t, org:v(`j${i}o`), start:v(`j${i}s`), slut:v(`j${i}e`), stad:v(`j${i}c`), desc:v(`j${i}f`)||v(`j${i}r`)});
  }
  for (let i=1;i<=uCount;i++) {
    if (!document.getElementById(`ub${i}`)) continue;
    const p = v(`u${i}p`); if (!p) continue;
    d.utb.push({prog:p, skola:v(`u${i}s`), start:v(`u${i}b`), slut:v(`u${i}e`), stad:v(`u${i}c`), betyg:v(`u${i}g`)});
  }
  for (let i=1;i<=lCount;i++) {
    if (!document.getElementById(`lb${i}`)) continue;
    const n = v(`l${i}n`); if (!n) continue;
    d.sprak.push({n, l:document.getElementById(`l${i}l`)?.value||'ModersmÃ¥l'});
  }
  return d;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TEMPLATE RENDERERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function jHtml(j, prefix) {
  return `<div class="${prefix}e">
    <div class="${prefix}e-r"><span class="${prefix}e-pos">${j.pos}</span><span class="${prefix}e-date">${[j.start,j.slut].filter(Boolean).join('â€“')}</span></div>
    <div class="${prefix}e-org">${[j.org,j.stad].filter(Boolean).join(' Â· ')}</div>
    ${j.desc?`<div class="${prefix}e-d">${j.desc}</div>`:''}
  </div>`;
}
function uHtml(u, prefix) {
  return `<div class="${prefix}e">
    <div class="${prefix}e-r"><span class="${prefix}e-pos">${u.prog}</span><span class="${prefix}e-date">${[u.start,u.slut].filter(Boolean).join('â€“')}</span></div>
    <div class="${prefix}e-org">${[u.skola,u.stad].filter(Boolean).join(' Â· ')}${u.betyg?' Â· '+u.betyg:''}</div>
  </div>`;
}
function contact(d) {
  return [d.email&&`ğŸ“§ ${d.email}`,d.tel&&`ğŸ“± ${d.tel}`,d.stad&&`ğŸ“ ${d.stad}`,d.li&&`ğŸ’¼ ${d.li}`,d.web&&`ğŸŒ ${d.web}`].filter(Boolean);
}

function renderTemplate(layout, color, d) {
  const co = contact(d);
  const sk = d.skills||[];
  switch(layout) {
    case 'kronos': return renderKronos(d,co,sk,color);
    case 'sigma':  return renderSigma(d,co,sk,color);
    case 'aurum':  return renderAurum(d,co,sk,color);
    case 'void':   return renderVoid(d,co,sk,color);
    case 'grid':   return renderGrid(d,co,sk,color);
    case 'pulse':  return renderPulse(d,co,sk,color);
    case 'flora':  return renderFlora(d,co,sk,color);
    case 'motion': return renderMotion(d,co,sk,color);
    case 'strata': return renderStrata(d,co,sk,color);
    case 'apex':   return renderApex(d,co,sk,color);
    default: return '<p>?</p>';
  }
}

function sec(title, content, cls) {
  if (!content) return '';
  return `<div class="${cls}s"><div class="${cls}s-t">${title}</div>${content}</div>`;
}

function renderKronos(d,co,sk,color) {
  return `<div class="cv-kronos" data-color="${color}">
    <div class="kh">
      <div class="kh-l"><div class="kname">${d.fn} ${d.en}</div>${d.titel?`<div class="ktitle">${d.titel}</div>`:''}</div>
      <div class="kh-r">${co.map(c=>`<div class="kci">${c}</div>`).join('')}</div>
    </div>
    ${d.summary?`<div class="ks"><div class="ks-t">Profil</div><div class="kp">${d.summary}</div></div>`:''}
    ${d.jobb.length?`<div class="ks"><div class="ks-t">Arbetslivserfarenhet</div>${d.jobb.map(j=>jHtml(j,'k')).join('')}</div>`:''}
    ${d.utb.length?`<div class="ks"><div class="ks-t">Utbildning</div>${d.utb.map(u=>uHtml(u,'k')).join('')}</div>`:''}
    ${sk.length?`<div class="ks"><div class="ks-t">Kompetenser</div><div class="ksk">${sk.map(s=>`<span class="ksk-i">${s}</span>`).join('')}</div></div>`:''}
    ${d.sprak.length?`<div class="ks"><div class="ks-t">SprÃ¥k</div><div class="klg">${d.sprak.map(s=>`<div><div class="klg-n">${s.n}</div><div class="klg-l">${s.l}</div></div>`).join('')}</div></div>`:''}
    ${d.ovrigt?`<div class="ks"><div class="ks-t">Ã–vrigt</div><div class="kp">${d.ovrigt}</div></div>`:''}
  </div>`;
}

function renderSigma(d,co,sk,color) {
  const bars = sk.map(s=>`<div><div class="sbar-n">${s}</div><div class="sbar-bg"><div class="sbar-f" style="width:78%"></div></div></div>`).join('');
  const contactSide = [d.email,d.tel,d.stad,d.li,d.web].filter(Boolean);
  return `<div class="cv-sigma" data-color="${color}">
    <div class="ss">
      <div class="sname">${d.fn} ${d.en}</div>
      ${d.titel?`<div class="stitle">${d.titel}</div>`:''}
      <div class="sblk"><div class="sblk-t">Kontakt</div>${contactSide.map(c=>`<div class="sci">${c}</div>`).join('')}</div>
      ${sk.length?`<div class="sblk"><div class="sblk-t">Kompetenser</div>${bars}</div>`:''}
      ${d.sprak.length?`<div class="sblk"><div class="sblk-t">SprÃ¥k</div>${d.sprak.map(s=>`<div class="slg-n">${s.n}</div><div class="slg-l">${s.l}</div>`).join('')}</div>`:''}
      ${d.ovrigt?`<div class="sblk"><div class="sblk-t">Ã–vrigt</div><div class="sci">${d.ovrigt}</div></div>`:''}
    </div>
    <div class="sm">
      ${d.summary?`<div class="mblk"><div class="mblk-t">Profil</div><div class="mp">${d.summary}</div></div>`:''}
      ${d.jobb.length?`<div class="mblk"><div class="mblk-t">Erfarenhet</div>${d.jobb.map(j=>`<div class="me"><div class="me-r"><span class="me-pos">${j.pos}</span><span class="me-date">${[j.start,j.slut].filter(Boolean).join('â€“')}</span></div><div class="me-org">${[j.org,j.stad].filter(Boolean).join(' Â· ')}</div>${j.desc?`<div class="me-d">${j.desc}</div>`:''}</div>`).join('')}</div>`:''}
      ${d.utb.length?`<div class="mblk"><div class="mblk-t">Utbildning</div>${d.utb.map(u=>`<div class="me"><div class="me-r"><span class="me-pos">${u.prog}</span><span class="me-date">${[u.start,u.slut].filter(Boolean).join('â€“')}</span></div><div class="me-org">${[u.skola,u.stad].filter(Boolean).join(' Â· ')}${u.betyg?' Â· '+u.betyg:''}</div></div>`).join('')}</div>`:''}
    </div>
  </div>`;
}

function renderAurum(d,co,sk,color) {
  return `<div class="cv-aurum" data-color="${color}">
    <div class="ah">
      <div class="aname">${d.fn} ${d.en}</div>
      ${d.titel?`<div class="atitle">${d.titel}</div>`:''}
      <div class="aci">${co.map(c=>`<span>${c}</span>`).join('')}</div>
    </div>
    ${d.summary?`<div class="as"><div class="as-t">Profil</div><div class="as-rule"></div><div class="ap">${d.summary}</div></div>`:''}
    ${d.jobb.length?`<div class="as"><div class="as-t">Arbetslivserfarenhet</div><div class="as-rule"></div>${d.jobb.map(j=>`<div class="ae"><div class="ae-r"><span class="ae-pos">${j.pos}</span><span class="ae-date">${[j.start,j.slut].filter(Boolean).join('â€“')}</span></div><div class="ae-org">${[j.org,j.stad].filter(Boolean).join(' Â· ')}</div>${j.desc?`<div class="ae-d">${j.desc}</div>`:''}</div>`).join('')}</div>`:''}
    ${d.utb.length?`<div class="as"><div class="as-t">Utbildning</div><div class="as-rule"></div>${d.utb.map(u=>`<div class="ae"><div class="ae-r"><span class="ae-pos">${u.prog}</span><span class="ae-date">${[u.start,u.slut].filter(Boolean).join('â€“')}</span></div><div class="ae-org">${[u.skola,u.stad].filter(Boolean).join(' Â· ')}</div></div>`).join('')}</div>`:''}
    ${sk.length?`<div class="as"><div class="as-t">Kompetenser</div><div class="as-rule"></div><div class="ask">${sk.map(s=>`<span class="ask-i">${s}</span>`).join('')}</div></div>`:''}
    ${d.sprak.length?`<div class="as"><div class="as-t">SprÃ¥k</div><div class="as-rule"></div><div class="alg">${d.sprak.map(s=>`<div><div class="alg-n">${s.n}</div><div class="alg-l">${s.l}</div></div>`).join('')}</div></div>`:''}
  </div>`;
}

function renderVoid(d,co,sk,color) {
  const simple = [d.email,d.tel,d.stad].filter(Boolean);
  return `<div class="cv-void" data-color="${color}">
    <div class="vh">
      <div class="vname"><b>${d.fn}</b> ${d.en}</div>
      ${d.titel?`<div class="vtitle">${d.titel}</div>`:''}
      <div class="vci">${simple.map(c=>`<span>${c}</span>`).join('')}</div>
    </div>
    <div class="vbody">
      <div>
        ${d.summary?`<div class="vs"><div class="vs-t">Profil</div><div class="vs-line"></div><div class="vp">${d.summary}</div></div>`:''}
        ${d.jobb.length?`<div class="vs"><div class="vs-t">Erfarenhet</div><div class="vs-line"></div>${d.jobb.map(j=>`<div class="ve"><div class="ve-pos">${j.pos}</div><div class="ve-meta">${[j.org,j.stad,[j.start,j.slut].filter(Boolean).join('â€“')].filter(Boolean).join(' Â· ')}</div>${j.desc?`<div class="ve-d">${j.desc}</div>`:''}</div>`).join('')}</div>`:''}
        ${d.utb.length?`<div class="vs"><div class="vs-t">Utbildning</div><div class="vs-line"></div>${d.utb.map(u=>`<div class="ve"><div class="ve-pos">${u.prog}</div><div class="ve-meta">${[u.skola,[u.start,u.slut].filter(Boolean).join('â€“')].filter(Boolean).join(' Â· ')}${u.betyg?' Â· '+u.betyg:''}</div></div>`).join('')}</div>`:''}
      </div>
      <div>
        ${sk.length?`<div class="vs"><div class="vs-t">Kompetenser</div><ul class="vsk">${sk.map(s=>`<li>${s}</li>`).join('')}</ul></div>`:''}
        ${d.sprak.length?`<div class="vs"><div class="vs-t">SprÃ¥k</div>${d.sprak.map(s=>`<div class="vlg-i"><div class="vlg-n">${s.n}</div><div class="vlg-l">${s.l}</div></div>`).join('')}</div>`:''}
        ${d.ovrigt?`<div class="vs"><div class="vs-t">Ã–vrigt</div><div class="vp" style="font-size:.76rem">${d.ovrigt}</div></div>`:''}
      </div>
    </div>
  </div>`;
}

function renderGrid(d,co,sk,color) {
  return `<div class="cv-grid" data-color="${color}">
    <div class="ghdr">
      <div class="ghdr-l"><div class="gname">${d.fn} ${d.en}</div>${d.titel?`<div class="gtitle">${d.titel}</div>`:''}</div>
      <div class="ghdr-r">${co.map(c=>`<div class="gci">${c}</div>`).join('')}</div>
    </div>
    <div class="gbody">
      <div class="gcol">
        ${d.summary?`<div class="gs"><div class="gs-t">Profil</div><div class="gp">${d.summary}</div></div>`:''}
        ${d.jobb.length?`<div class="gs"><div class="gs-t">Arbetslivserfarenhet</div>${d.jobb.map(j=>`<div class="ge"><div class="ge-r"><span class="ge-pos">${j.pos}</span><span class="ge-date">${[j.start,j.slut].filter(Boolean).join('â€“')}</span></div><div class="ge-org">${[j.org,j.stad].filter(Boolean).join(' Â· ')}</div>${j.desc?`<div class="ge-d">${j.desc}</div>`:''}</div>`).join('')}</div>`:''}
      </div>
      <div class="gcol">
        ${d.utb.length?`<div class="gs"><div class="gs-t">Utbildning</div>${d.utb.map(u=>`<div class="ge"><div class="ge-r"><span class="ge-pos">${u.prog}</span><span class="ge-date">${[u.start,u.slut].filter(Boolean).join('â€“')}</span></div><div class="ge-org">${[u.skola,u.stad].filter(Boolean).join(' Â· ')}</div></div>`).join('')}</div>`:''}
        ${sk.length?`<div class="gs"><div class="gs-t">Kompetenser</div><div class="gsk">${sk.map(s=>`<span class="gsk-i">${s}</span>`).join('')}</div></div>`:''}
        ${d.sprak.length?`<div class="gs"><div class="gs-t">SprÃ¥k</div>${d.sprak.map(s=>`<div class="glg-i"><div class="glg-n">${s.n}</div><div class="glg-l">${s.l}</div></div>`).join('')}</div>`:''}
        ${d.ovrigt?`<div class="gs"><div class="gs-t">Ã–vrigt</div><div class="gp">${d.ovrigt}</div></div>`:''}
      </div>
    </div>
  </div>`;
}

function renderPulse(d,co,sk,color) {
  const simple = [d.email,d.tel,d.stad].filter(Boolean);
  return `<div class="cv-pulse" data-color="${color}">
    <div class="phdr">
      <div class="pname">${d.fn} ${d.en}</div>
      ${d.titel?`<div class="ptitle">${d.titel}</div>`:''}
      <div class="pci">${simple.map(c=>`<span>${c}</span>`).join('')}</div>
    </div>
    <div class="pbody">
      <div>
        ${d.summary?`<div class="ps"><div class="ps-t">Profil</div><div class="pp">${d.summary}</div></div>`:''}
        ${d.jobb.length?`<div class="ps"><div class="ps-t">Erfarenhet</div>${d.jobb.map(j=>`<div class="pe"><div class="pe-r"><span class="pe-pos">${j.pos}</span><span class="pe-date">${[j.start,j.slut].filter(Boolean).join('â€“')}</span></div><div class="pe-org">${[j.org,j.stad].filter(Boolean).join(' Â· ')}</div>${j.desc?`<div class="pe-d">${j.desc}</div>`:''}</div>`).join('')}</div>`:''}
        ${d.utb.length?`<div class="ps"><div class="ps-t">Utbildning</div>${d.utb.map(u=>`<div class="pe"><div class="pe-r"><span class="pe-pos">${u.prog}</span><span class="pe-date">${[u.start,u.slut].filter(Boolean).join('â€“')}</span></div><div class="pe-org">${[u.skola,u.stad].filter(Boolean).join(' Â· ')}</div></div>`).join('')}</div>`:''}
      </div>
      <div>
        ${sk.length?`<div class="ps"><div class="ps-t">Skills</div><div class="psk">${sk.map(s=>`<span class="psk-i">${s}</span>`).join('')}</div></div>`:''}
        ${d.sprak.length?`<div class="ps"><div class="ps-t">SprÃ¥k</div>${d.sprak.map(s=>`<div class="plg-i"><div class="plg-n">${s.n}</div><div class="plg-l">${s.l}</div></div>`).join('')}</div>`:''}
        ${d.ovrigt?`<div class="ps"><div class="ps-t">Ã–vrigt</div><div class="pe-d">${d.ovrigt}</div></div>`:''}
      </div>
    </div>
  </div>`;
}

function renderFlora(d,co,sk,color) {
  const initials = (d.fn[0]||'')+(d.en[0]||'');
  return `<div class="cv-flora" data-color="${color}">
    <div class="fhdr">
      <div class="fhdr-avatar">${initials}</div>
      <div class="fhdr-info">
        <div class="fname">${d.fn} ${d.en}</div>
        ${d.titel?`<div class="ftitle">${d.titel}</div>`:''}
        <div class="fci">${co.map(c=>`<span>${c}</span>`).join('')}</div>
      </div>
    </div>
    ${d.summary?`<div class="fs"><div class="fs-t">Profil</div><div class="fp">${d.summary}</div></div>`:''}
    ${d.jobb.length?`<div class="fs"><div class="fs-t">Arbetslivserfarenhet</div>${d.jobb.map(j=>`<div class="fe"><div class="fe-r"><span class="fe-pos">${j.pos}</span><span class="fe-date">${[j.start,j.slut].filter(Boolean).join('â€“')}</span></div><div class="fe-org">${[j.org,j.stad].filter(Boolean).join(' Â· ')}</div>${j.desc?`<div class="fe-d">${j.desc}</div>`:''}</div>`).join('')}</div>`:''}
    ${d.utb.length?`<div class="fs"><div class="fs-t">Utbildning</div>${d.utb.map(u=>`<div class="fe"><div class="fe-r"><span class="fe-pos">${u.prog}</span><span class="fe-date">${[u.start,u.slut].filter(Boolean).join('â€“')}</span></div><div class="fe-org">${[u.skola,u.stad].filter(Boolean).join(' Â· ')}</div></div>`).join('')}</div>`:''}
    ${sk.length?`<div class="fs"><div class="fs-t">Kompetenser</div><div class="fsk">${sk.map(s=>`<span class="fsk-i">${s}</span>`).join('')}</div></div>`:''}
    ${d.sprak.length?`<div class="fs"><div class="fs-t">SprÃ¥k</div>${d.sprak.map(s=>`<div class="flg-i"><div class="flg-n">${s.n}</div><div class="flg-l">${s.l}</div></div>`).join('')}</div>`:''}
    ${d.ovrigt?`<div class="fs"><div class="fs-t">Ã–vrigt</div><div class="fp">${d.ovrigt}</div></div>`:''}
  </div>`;
}

function renderMotion(d,co,sk,color) {
  return `<div class="cv-motion" data-color="${color}">
    <div class="mhdr">
      <div class="mname">${d.fn}<br>${d.en}</div>
      ${d.titel?`<div class="mtitle">${d.titel}</div>`:''}
      <div class="mci">${co.map(c=>`<span>${c}</span>`).join('')}</div>
    </div>
    <div class="mbody">
      <div class="mmain">
        ${d.summary?`<div class="ms"><div class="ms-t">Profil</div><div class="mp">${d.summary}</div></div>`:''}
        ${d.jobb.length?`<div class="ms"><div class="ms-t">Erfarenhet</div>${d.jobb.map(j=>`<div class="me"><div class="me-r"><span class="me-pos">${j.pos}</span><span class="me-date">${[j.start,j.slut].filter(Boolean).join('â€“')}</span></div><div class="me-org">${[j.org,j.stad].filter(Boolean).join(' Â· ')}</div>${j.desc?`<div class="me-d">${j.desc}</div>`:''}</div>`).join('')}</div>`:''}
        ${d.utb.length?`<div class="ms"><div class="ms-t">Utbildning</div>${d.utb.map(u=>`<div class="me"><div class="me-r"><span class="me-pos">${u.prog}</span><span class="me-date">${[u.start,u.slut].filter(Boolean).join('â€“')}</span></div><div class="me-org">${[u.skola,u.stad].filter(Boolean).join(' Â· ')}</div></div>`).join('')}</div>`:''}
      </div>
      <div class="mside">
        ${sk.length?`<div class="ms"><div class="ms-t">Kompetenser</div><div class="msk">${sk.map(s=>`<span class="msk-i">${s}</span>`).join('')}</div></div>`:''}
        ${d.sprak.length?`<div class="ms"><div class="ms-t">SprÃ¥k</div>${d.sprak.map(s=>`<div class="mlg-i"><div class="mlg-n">${s.n}</div><div class="mlg-l">${s.l}</div></div>`).join('')}</div>`:''}
        ${d.ovrigt?`<div class="ms"><div class="ms-t">Ã–vrigt</div><div class="mp">${d.ovrigt}</div></div>`:''}
      </div>
    </div>
  </div>`;
}

function renderStrata(d,co,sk,color) {
  const simple = [d.email,d.tel,d.stad].filter(Boolean);
  return `<div class="cv-strata" data-color="${color}">
    <div class="shdr"><div class="sname">${d.fn} ${d.en}</div></div>
    ${d.titel?`<div class="stitle-band">${d.titel}</div>`:''}
    <div class="sci-band">${simple.map(c=>`<span>${c}</span>`).join('')}</div>
    <div class="sbody">
      <div>
        ${d.summary?`<div class="ss2"><div class="ss2-t">Profil</div><div class="sp2">${d.summary}</div></div>`:''}
        ${d.jobb.length?`<div class="ss2"><div class="ss2-t">Arbetslivserfarenhet</div>${d.jobb.map(j=>`<div class="se"><div class="se-r"><span class="se-pos">${j.pos}</span><span class="se-date">${[j.start,j.slut].filter(Boolean).join('â€“')}</span></div><div class="se-org">${[j.org,j.stad].filter(Boolean).join(' Â· ')}</div>${j.desc?`<div class="se-d">${j.desc}</div>`:''}</div>`).join('')}</div>`:''}
        ${d.utb.length?`<div class="ss2"><div class="ss2-t">Utbildning</div>${d.utb.map(u=>`<div class="se"><div class="se-r"><span class="se-pos">${u.prog}</span><span class="se-date">${[u.start,u.slut].filter(Boolean).join('â€“')}</span></div><div class="se-org">${[u.skola,u.stad].filter(Boolean).join(' Â· ')}</div></div>`).join('')}</div>`:''}
      </div>
      <div>
        ${sk.length?`<div class="ss2"><div class="ss2-t">Kompetenser</div><div class="ssk">${sk.map(s=>`<span class="ssk-i">${s}</span>`).join('')}</div></div>`:''}
        ${d.sprak.length?`<div class="ss2"><div class="ss2-t">SprÃ¥k</div>${d.sprak.map(s=>`<div class="slg-i"><div class="slg-n">${s.n}</div><div class="slg-l">${s.l}</div></div>`).join('')}</div>`:''}
        ${d.ovrigt?`<div class="ss2"><div class="ss2-t">Ã–vrigt</div><div class="sp2">${d.ovrigt}</div></div>`:''}
      </div>
    </div>
  </div>`;
}

function renderApex(d,co,sk,color) {
  const left = [d.email,d.tel,d.stad].filter(Boolean);
  const right = [d.li,d.web].filter(Boolean);
  return `<div class="cv-apex" data-color="${color}">
    <div class="apex-bar"></div>
    <div class="ahdr">
      <div>
        <div class="aname">${d.fn} ${d.en}</div>
        ${d.titel?`<div class="atitle">${d.titel}</div>`:''}
        <div class="aci">${left.map(c=>`<span>${c}</span>`).join('')}</div>
      </div>
      <div class="aci-r">${right.map(c=>`<span>${c}</span>`).join('')}</div>
    </div>
    <div class="abody">
      <div>
        ${d.summary?`<div class="ax"><div class="ax-t">Profil</div><div class="apro">${d.summary}</div></div>`:''}
        ${d.jobb.length?`<div class="ax"><div class="ax-t">Arbetslivserfarenhet</div>${d.jobb.map(j=>`<div class="ae"><div class="ae-r"><span class="ae-pos">${j.pos}</span><span class="ae-date">${[j.start,j.slut].filter(Boolean).join('â€“')}</span></div><div class="ae-org">${[j.org,j.stad].filter(Boolean).join(' Â· ')}</div>${j.desc?`<div class="ae-d">${j.desc}</div>`:''}</div>`).join('')}</div>`:''}
        ${d.utb.length?`<div class="ax"><div class="ax-t">Utbildning</div>${d.utb.map(u=>`<div class="ae"><div class="ae-r"><span class="ae-pos">${u.prog}</span><span class="ae-date">${[u.start,u.slut].filter(Boolean).join('â€“')}</span></div><div class="ae-org">${[u.skola,u.stad].filter(Boolean).join(' Â· ')}</div></div>`).join('')}</div>`:''}
      </div>
      <div>
        ${sk.length?`<div class="ax"><div class="ax-t">Kompetenser</div><div class="ask">${sk.map(s=>`<span class="ask-i">${s}</span>`).join('')}</div></div>`:''}
        ${d.sprak.length?`<div class="ax"><div class="ax-t">SprÃ¥k</div>${d.sprak.map(s=>`<div class="alg-i"><div class="alg-n">${s.n}</div><div class="alg-l">${s.l}</div></div>`).join('')}</div>`:''}
        ${d.ovrigt?`<div class="ax"><div class="ax-t">Ã–vrigt</div><div class="apro">${d.ovrigt}</div></div>`:''}
      </div>
    </div>
  </div>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GENERATE & PREVIEW
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderCV(data, tplId) {
  const tpl = TEMPLATES.find(t => t.id === tplId) || TEMPLATES[0];
  document.getElementById('cv-out').innerHTML = renderTemplate(tpl.layout, tpl.color, data);
}

async function genCV() {
  const d = getData();
  if (!d.fn || !d.en) { toast('âš  Fyll i ditt namn!'); goStep(1); return; }
  showOv('SÃ¤tter ihop ditt CV...');
  if (!d.summary && d.titel) {
    document.getElementById('ov-t').textContent = 'AI skriver sammanfattning...';
    try {
      d.summary = await claude(`Skriv en professionell CV-sammanfattning pÃ¥ svenska (3-4 meningar, 60-80 ord).\nPerson: ${d.fn} ${d.en}\nRoll: ${d.titel}\nProfessionell och personlig ton fÃ¶r svenska arbetsgivare.`);
      document.getElementById('s-fin').value = d.summary;
    } catch(e){}
  }
  lastData = d;

  // Build switcher buttons in preview
  const sw = document.getElementById('prev-switcher');
  sw.innerHTML = TEMPLATES.map(t =>
    `<button class="ts-btn${t.id===selTpl?' on':''}" id="ts-${t.id}" onclick="switchPrevTpl('${t.id}')">${t.name}</button>`
  ).join('');

  renderCV(d, selTpl);
  hideOv();
  const pv = document.getElementById('preview');
  pv.style.display = 'block';
  pv.scrollIntoView({behavior:'smooth'});
  toast('âœ“ Ditt CV Ã¤r klart!');
}

function switchPrevTpl(id) {
  selTpl = id;
  document.querySelectorAll('.ts-btn').forEach(b => b.classList.remove('on'));
  document.getElementById('ts-' + id)?.classList.add('on');
  renderCV(lastData, id);
  const t = TEMPLATES.find(x => x.id === id);
  toast('âœ“ Bytt till: ' + t.name);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DOWNLOAD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function dlCV() {
  const html = document.getElementById('cv-out').innerHTML;
  const name = `${v('p-fn')} ${v('p-en')}`.trim() || 'CV';
  const w = window.open('','_blank');
  w.document.write(`<!DOCTYPE html><html><head><meta charset="UTF-8"><title>CV â€“ ${name}</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=DM+Sans:wght@300;400;500;700&family=Space+Grotesk:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
  *{margin:0;padding:0;box-sizing:border-box}body{background:#fff}
  [data-color="navy"]{--c1:#1b2a4a;--c2:#2c4a7e;--c3:#4a7fc1;--c4:#e8f0f8;--c5:#f5f8fc}
  [data-color="forest"]{--c1:#1a3a2e;--c2:#2d6650;--c3:#4a9e7a;--c4:#e8f5ee;--c5:#f4fbf6}
  [data-color="charcoal"]{--c1:#1a1a1a;--c2:#333;--c3:#666;--c4:#f0f0f0;--c5:#fafafa}
  [data-color="burgundy"]{--c1:#4a1020;--c2:#7e1f38;--c3:#c44060;--c4:#faeef0;--c5:#fff5f6}
  [data-color="slate"]{--c1:#2a3545;--c2:#455570;--c3:#7a93b8;--c4:#edf1f7;--c5:#f6f8fb}
  .cv-kronos{background:#fff;font-family:'DM Sans',sans-serif;padding:3.2rem;color:#1a1a1a}
  .cv-kronos .kh{border-bottom:3px solid var(--c1);padding-bottom:1.4rem;margin-bottom:1.4rem;display:flex;justify-content:space-between;align-items:flex-end}
  .cv-kronos .kh-l .kname{font-size:2.4rem;font-weight:700;letter-spacing:-.03em;line-height:1;color:var(--c1)}
  .cv-kronos .kh-l .ktitle{font-size:.9rem;color:var(--c3);margin-top:.3rem}
  .cv-kronos .kh-r .kci{font-size:.7rem;color:#555;line-height:1.8;text-align:right}
  .cv-kronos .ks{margin-bottom:1.6rem}
  .cv-kronos .ks-t{font-size:.55rem;font-weight:700;text-transform:uppercase;letter-spacing:.22em;color:var(--c3);border-bottom:1px solid var(--c4);padding-bottom:.35rem;margin-bottom:.9rem}
  .cv-kronos .ke{margin-bottom:1.1rem}
  .cv-kronos .ke-r{display:flex;justify-content:space-between;margin-bottom:.12rem}
  .cv-kronos .ke-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
  .cv-kronos .ke-date{font-size:.65rem;color:var(--c3)}
  .cv-kronos .ke-org{font-size:.78rem;color:#666;margin-bottom:.3rem}
  .cv-kronos .ke-d{font-size:.78rem;color:#444;line-height:1.6}
  .cv-kronos .kp{font-size:.83rem;line-height:1.75;color:#333}
  .cv-kronos .ksk{display:flex;flex-wrap:wrap;gap:.4rem}
  .cv-kronos .ksk-i{background:var(--c4);color:var(--c1);padding:.2rem .65rem;font-size:.7rem;font-weight:600}
  .cv-kronos .klg{display:grid;grid-template-columns:repeat(3,1fr);gap:.4rem}
  .cv-kronos .klg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
  .cv-kronos .klg-l{font-size:.68rem;color:#888}
  .cv-sigma{background:#fff;font-family:'DM Sans',sans-serif;display:grid;grid-template-columns:220px 1fr;min-height:1000px;color:#1a1a1a}
  .cv-sigma .ss{background:var(--c1);color:#fff;padding:2.2rem 1.5rem}
  .cv-sigma .ss .sname{font-size:1.4rem;font-weight:700;line-height:1.1;color:#fff;margin-bottom:.3rem}
  .cv-sigma .ss .stitle{font-size:.72rem;opacity:.75;margin-bottom:1.8rem}
  .cv-sigma .ss .sblk{margin-bottom:1.6rem}
  .cv-sigma .ss .sblk-t{font-size:.48rem;text-transform:uppercase;letter-spacing:.18em;opacity:.6;margin-bottom:.6rem;padding-bottom:.3rem;border-bottom:1px solid rgba(255,255,255,.12)}
  .cv-sigma .ss .sci{font-size:.7rem;opacity:.85;margin-bottom:.4rem;line-height:1.4;word-break:break-all}
  .cv-sigma .ss .sbar-n{font-size:.7rem;color:#fff;margin-bottom:.18rem}
  .cv-sigma .ss .sbar-bg{height:3px;background:rgba(255,255,255,.15);border-radius:2px;margin-bottom:.5rem}
  .cv-sigma .ss .sbar-f{height:100%;background:var(--c3);border-radius:2px}
  .cv-sigma .ss .slg-n{font-size:.72rem;font-weight:700;color:#fff}
  .cv-sigma .ss .slg-l{font-size:.64rem;opacity:.65;margin-bottom:.4rem}
  .cv-sigma .sm{padding:2.2rem 1.8rem}
  .cv-sigma .sm .mblk{margin-bottom:1.6rem}
  .cv-sigma .sm .mblk-t{font-size:.52rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c2);border-bottom:2px solid var(--c1);padding-bottom:.3rem;margin-bottom:.9rem}
  .cv-sigma .sm .me{margin-bottom:1rem}
  .cv-sigma .sm .me-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
  .cv-sigma .sm .me-pos{font-weight:700;font-size:.88rem}
  .cv-sigma .sm .me-date{font-size:.64rem;color:var(--c3);font-weight:600}
  .cv-sigma .sm .me-org{font-size:.76rem;color:#666;margin-bottom:.28rem}
  .cv-sigma .sm .me-d{font-size:.76rem;color:#444;line-height:1.6}
  .cv-sigma .sm .mp{font-size:.84rem;line-height:1.75;color:#333}
  .cv-aurum{background:#fff;font-family:'Cormorant Garamond',Georgia,serif;padding:3.5rem;color:#2a2200}
  .cv-aurum .ah{text-align:center;padding-bottom:1.5rem;margin-bottom:1.5rem;border-bottom:1px solid var(--c3)}
  .cv-aurum .aname{font-size:3rem;font-weight:600;letter-spacing:.06em;line-height:1;color:var(--c1);margin-bottom:.4rem}
  .cv-aurum .atitle{font-size:1rem;color:var(--c3);font-style:italic;margin-bottom:.8rem}
  .cv-aurum .aci{display:flex;justify-content:center;flex-wrap:wrap;gap:1.5rem;font-size:.7rem;color:#666;font-family:'DM Sans',sans-serif}
  .cv-aurum .as{margin-bottom:1.9rem}
  .cv-aurum .as-t{font-size:.58rem;text-transform:uppercase;letter-spacing:.25em;color:var(--c3);text-align:center;font-family:'DM Sans',sans-serif;font-weight:600;margin-bottom:.5rem}
  .cv-aurum .as-rule{width:36px;height:1px;background:var(--c3);margin:.3rem auto .9rem}
  .cv-aurum .ae{margin-bottom:1.2rem}
  .cv-aurum .ae-r{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:.18rem}
  .cv-aurum .ae-pos{font-weight:600;font-size:.95rem;color:var(--c1)}
  .cv-aurum .ae-date{font-size:.68rem;color:var(--c3);font-family:'DM Sans',sans-serif;font-style:italic}
  .cv-aurum .ae-org{font-size:.8rem;color:var(--c3);font-style:italic;margin-bottom:.3rem}
  .cv-aurum .ae-d{font-size:.8rem;color:#444;line-height:1.7;font-family:'DM Sans',sans-serif}
  .cv-aurum .ap{font-size:.9rem;line-height:1.8;color:#333;font-style:italic;text-align:center}
  .cv-aurum .ask{display:flex;justify-content:center;flex-wrap:wrap;gap:.5rem}
  .cv-aurum .ask-i{border:1px solid var(--c3);color:var(--c3);padding:.18rem .7rem;font-size:.68rem;font-family:'DM Sans',sans-serif}
  .cv-aurum .alg{display:flex;justify-content:center;gap:2.5rem;flex-wrap:wrap}
  .cv-aurum .alg-n{font-weight:600;font-size:.82rem;text-align:center;color:var(--c1)}
  .cv-aurum .alg-l{font-size:.68rem;color:var(--c3);font-style:italic;font-family:'DM Sans',sans-serif;text-align:center}
  .cv-void{background:#fff;font-family:'DM Sans',sans-serif;padding:4rem;color:#111}
  .cv-void .vh{margin-bottom:3rem}
  .cv-void .vname{font-size:3.2rem;font-weight:300;letter-spacing:-.02em;line-height:1;margin-bottom:.4rem}
  .cv-void .vname b{font-weight:700;color:var(--c1)}
  .cv-void .vtitle{font-size:.78rem;text-transform:uppercase;letter-spacing:.22em;color:var(--c3);margin-bottom:.8rem}
  .cv-void .vci{display:flex;gap:2rem;flex-wrap:wrap;font-size:.72rem;color:#777}
  .cv-void .vbody{display:grid;grid-template-columns:1fr 185px;gap:3rem}
  .cv-void .vs{margin-bottom:2rem}
  .cv-void .vs-t{font-size:.52rem;text-transform:uppercase;letter-spacing:.22em;color:#ccc;margin-bottom:.5rem}
  .cv-void .vs-line{width:18px;height:1px;background:var(--c1);margin-bottom:.8rem}
  .cv-void .ve{margin-bottom:1.2rem}
  .cv-void .ve-pos{font-weight:700;font-size:.86rem;color:var(--c1)}
  .cv-void .ve-meta{font-size:.7rem;color:#aaa;margin-bottom:.28rem}
  .cv-void .ve-d{font-size:.76rem;color:#555;line-height:1.65}
  .cv-void .vp{font-size:.84rem;line-height:1.8;color:#333}
  .cv-void .vsk{list-style:none}
  .cv-void .vsk li{font-size:.76rem;color:#444;padding:.28rem 0;border-bottom:1px solid #f0f0f0}
  .cv-void .vlg-i{margin-bottom:.55rem}
  .cv-void .vlg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
  .cv-void .vlg-l{font-size:.68rem;color:#aaa}
  .cv-grid{background:#fff;font-family:'DM Sans',sans-serif;padding:0;color:#1a1a1a}
  .cv-grid .ghdr{background:var(--c1);color:#fff;padding:2.5rem 3rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
  .cv-grid .ghdr-l .gname{font-size:2.2rem;font-weight:700;letter-spacing:-.02em;line-height:1;color:#fff;margin-bottom:.25rem}
  .cv-grid .ghdr-l .gtitle{font-size:.82rem;opacity:.75}
  .cv-grid .ghdr-r .gci{font-size:.68rem;opacity:.8;line-height:1.9;text-align:right}
  .cv-grid .gbody{display:grid;grid-template-columns:1fr 1fr}
  .cv-grid .gcol{padding:2rem 2.5rem}
  .cv-grid .gcol:first-child{border-right:1px solid var(--c4)}
  .cv-grid .gs{margin-bottom:1.8rem}
  .cv-grid .gs-t{font-size:.52rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);border-bottom:2px solid var(--c4);padding-bottom:.3rem;margin-bottom:.9rem}
  .cv-grid .ge{margin-bottom:1.1rem}
  .cv-grid .ge-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
  .cv-grid .ge-pos{font-weight:700;font-size:.86rem;color:var(--c1)}
  .cv-grid .ge-date{font-size:.63rem;color:var(--c3)}
  .cv-grid .ge-org{font-size:.75rem;color:#666;margin-bottom:.28rem}
  .cv-grid .ge-d{font-size:.75rem;color:#444;line-height:1.6}
  .cv-grid .gp{font-size:.82rem;line-height:1.75;color:#333}
  .cv-grid .gsk{display:flex;flex-wrap:wrap;gap:.4rem}
  .cv-grid .gsk-i{background:var(--c4);color:var(--c2);padding:.18rem .6rem;font-size:.68rem;font-weight:600}
  .cv-grid .glg-i{margin-bottom:.5rem}
  .cv-grid .glg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
  .cv-grid .glg-l{font-size:.68rem;color:#888}
  .cv-pulse{background:#fff;font-family:'Space Grotesk',sans-serif;padding:0;color:#111}
  .cv-pulse .phdr{padding:2.5rem 3rem 1.5rem;border-left:4px solid var(--c1);margin:2rem 3rem 0}
  .cv-pulse .pname{font-size:2.5rem;font-weight:700;letter-spacing:-.04em;color:var(--c1);line-height:1;margin-bottom:.25rem}
  .cv-pulse .ptitle{font-size:.78rem;text-transform:uppercase;letter-spacing:.18em;color:var(--c3);margin-bottom:.8rem}
  .cv-pulse .pci{display:flex;gap:1.5rem;flex-wrap:wrap;font-size:.68rem;color:#666}
  .cv-pulse .pbody{padding:1.5rem 3rem 3rem;display:grid;grid-template-columns:1fr 200px;gap:2.5rem}
  .cv-pulse .ps{margin-bottom:1.8rem}
  .cv-pulse .ps-t{font-size:.52rem;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);margin-bottom:.7rem}
  .cv-pulse .pe{margin-bottom:1.1rem}
  .cv-pulse .pe-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
  .cv-pulse .pe-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
  .cv-pulse .pe-date{font-size:.63rem;color:var(--c3);font-weight:500}
  .cv-pulse .pe-org{font-size:.75rem;color:#666;margin-bottom:.28rem}
  .cv-pulse .pe-d{font-size:.75rem;color:#444;line-height:1.6}
  .cv-pulse .pp{font-size:.84rem;line-height:1.75;color:#333}
  .cv-pulse .psk{display:flex;flex-wrap:wrap;gap:.4rem}
  .cv-pulse .psk-i{background:var(--c4);color:var(--c2);padding:.2rem .6rem;font-size:.68rem;font-weight:600;border-radius:2px}
  .cv-pulse .plg-i{margin-bottom:.55rem}
  .cv-pulse .plg-n{font-weight:700;font-size:.8rem;color:var(--c1)}
  .cv-pulse .plg-l{font-size:.68rem;color:#888}
  .cv-flora{background:#fff;font-family:'DM Sans',sans-serif;padding:3.2rem;color:#1a1a1a}
  .cv-flora .fhdr{display:flex;gap:2rem;align-items:flex-start;padding-bottom:1.5rem;margin-bottom:1.5rem;border-bottom:2px solid var(--c4)}
  .cv-flora .fhdr-avatar{width:72px;height:72px;background:var(--c1);border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:1.6rem;color:#fff;font-weight:700}
  .cv-flora .fhdr-info .fname{font-size:2.2rem;font-weight:700;letter-spacing:-.02em;line-height:1;color:var(--c1);margin-bottom:.25rem}
  .cv-flora .fhdr-info .ftitle{font-size:.82rem;color:var(--c3);margin-bottom:.6rem}
  .cv-flora .fhdr-info .fci{display:flex;flex-wrap:wrap;gap:1.2rem;font-size:.68rem;color:#555}
  .cv-flora .fs{margin-bottom:1.7rem}
  .cv-flora .fs-t{font-size:.54rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);border-left:3px solid var(--c1);padding-left:.5rem;margin-bottom:.9rem}
  .cv-flora .fe{margin-bottom:1.1rem}
  .cv-flora .fe-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
  .cv-flora .fe-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
  .cv-flora .fe-date{font-size:.65rem;color:var(--c3)}
  .cv-flora .fe-org{font-size:.76rem;color:#666;margin-bottom:.3rem}
  .cv-flora .fe-d{font-size:.76rem;color:#444;line-height:1.65}
  .cv-flora .fp{font-size:.83rem;line-height:1.75;color:#333}
  .cv-flora .fsk{display:flex;flex-wrap:wrap;gap:.4rem}
  .cv-flora .fsk-i{border:1px solid var(--c3);color:var(--c2);padding:.18rem .6rem;font-size:.7rem;border-radius:20px}
  .cv-flora .flg-i{margin-bottom:.5rem;display:flex;align-items:center;gap:.6rem}
  .cv-flora .flg-n{font-weight:700;font-size:.78rem;color:var(--c1);min-width:70px}
  .cv-flora .flg-l{font-size:.68rem;color:#888}
  .cv-motion{background:var(--c1);font-family:'Syne','DM Sans',sans-serif;color:#fff;padding:0}
  .cv-motion .mhdr{padding:2.8rem;border-bottom:1px solid rgba(255,255,255,.1)}
  .cv-motion .mname{font-size:3rem;font-weight:800;letter-spacing:-.04em;line-height:.92;margin-bottom:.4rem}
  .cv-motion .mtitle{font-size:.8rem;text-transform:uppercase;letter-spacing:.2em;opacity:.6;margin-bottom:.8rem}
  .cv-motion .mci{display:flex;gap:1.5rem;flex-wrap:wrap;font-size:.7rem;opacity:.7}
  .cv-motion .mbody{display:grid;grid-template-columns:1fr 210px}
  .cv-motion .mmain{padding:2rem 2.8rem;border-right:1px solid rgba(255,255,255,.1)}
  .cv-motion .mside{padding:2rem 1.8rem;background:rgba(0,0,0,.2)}
  .cv-motion .ms{margin-bottom:1.8rem}
  .cv-motion .ms-t{font-size:.52rem;text-transform:uppercase;letter-spacing:.2em;opacity:.5;margin-bottom:.8rem}
  .cv-motion .me{margin-bottom:1.2rem;padding-bottom:1.2rem;border-bottom:1px solid rgba(255,255,255,.08)}
  .cv-motion .me-r{display:flex;justify-content:space-between;margin-bottom:.12rem}
  .cv-motion .me-pos{font-weight:700;font-size:.88rem}
  .cv-motion .me-date{font-size:.65rem;opacity:.6}
  .cv-motion .me-org{font-size:.76rem;opacity:.65;margin-bottom:.3rem}
  .cv-motion .me-d{font-size:.76rem;opacity:.8;line-height:1.6}
  .cv-motion .mp{font-size:.84rem;line-height:1.75;opacity:.85}
  .cv-motion .msk{display:flex;flex-wrap:wrap;gap:.4rem}
  .cv-motion .msk-i{background:rgba(255,255,255,.1);color:#fff;padding:.2rem .6rem;font-size:.68rem;font-weight:600}
  .cv-motion .mlg-i{margin-bottom:.55rem}
  .cv-motion .mlg-n{font-weight:700;font-size:.78rem}
  .cv-motion .mlg-l{font-size:.66rem;opacity:.55}
  .cv-strata{background:#fff;font-family:'DM Sans',sans-serif;color:#1a1a1a}
  .cv-strata .shdr{background:var(--c1);padding:2rem 3rem}
  .cv-strata .sname{font-size:2.6rem;font-weight:700;color:#fff;letter-spacing:-.03em;line-height:1}
  .cv-strata .stitle-band{background:var(--c2);padding:.6rem 3rem;font-size:.72rem;text-transform:uppercase;letter-spacing:.18em;color:rgba(255,255,255,.8)}
  .cv-strata .sci-band{background:var(--c4);padding:.7rem 3rem;display:flex;flex-wrap:wrap;gap:1.5rem;font-size:.68rem;color:var(--c2)}
  .cv-strata .sbody{padding:2rem 3rem;display:grid;grid-template-columns:1fr 200px;gap:2.5rem}
  .cv-strata .ss2{margin-bottom:1.8rem}
  .cv-strata .ss2-t{font-size:.52rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);border-bottom:2px solid var(--c4);padding-bottom:.3rem;margin-bottom:.9rem}
  .cv-strata .se{margin-bottom:1.1rem}
  .cv-strata .se-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
  .cv-strata .se-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
  .cv-strata .se-date{font-size:.65rem;color:var(--c3)}
  .cv-strata .se-org{font-size:.76rem;color:#666;margin-bottom:.28rem}
  .cv-strata .se-d{font-size:.76rem;color:#444;line-height:1.6}
  .cv-strata .sp2{font-size:.83rem;line-height:1.75;color:#333}
  .cv-strata .ssk{display:flex;flex-wrap:wrap;gap:.4rem}
  .cv-strata .ssk-i{background:var(--c4);color:var(--c2);padding:.18rem .6rem;font-size:.68rem;font-weight:600}
  .cv-strata .slg-i{margin-bottom:.55rem}
  .cv-strata .slg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
  .cv-strata .slg-l{font-size:.68rem;color:#888}
  .cv-apex{background:#fff;font-family:'DM Sans',sans-serif;color:#1a1a1a}
  .cv-apex .apex-bar{height:6px;background:var(--c1)}
  .cv-apex .ahdr{padding:2.5rem 3rem;display:grid;grid-template-columns:1fr auto;gap:2rem;align-items:start;border-bottom:1px solid #eee}
  .cv-apex .aname{font-size:2.6rem;font-weight:700;letter-spacing:-.03em;line-height:1;margin-bottom:.25rem}
  .cv-apex .atitle{font-size:.82rem;color:var(--c3);margin-bottom:.6rem}
  .cv-apex .aci{display:flex;flex-wrap:wrap;gap:1rem;font-size:.68rem;color:#555}
  .cv-apex .aci-r{text-align:right}
  .cv-apex .aci-r span{display:block;font-size:.68rem;color:#555;line-height:1.8}
  .cv-apex .abody{padding:2rem 3rem;display:grid;grid-template-columns:1fr 200px;gap:2.5rem}
  .cv-apex .ax{margin-bottom:1.8rem}
  .cv-apex .ax-t{font-size:.52rem;font-weight:700;text-transform:uppercase;letter-spacing:.2em;color:var(--c3);border-bottom:2px solid var(--c1);padding-bottom:.3rem;margin-bottom:.9rem}
  .cv-apex .ae{margin-bottom:1.1rem}
  .cv-apex .ae-r{display:flex;justify-content:space-between;margin-bottom:.1rem}
  .cv-apex .ae-pos{font-weight:700;font-size:.88rem;color:var(--c1)}
  .cv-apex .ae-date{font-size:.64rem;color:var(--c3)}
  .cv-apex .ae-org{font-size:.76rem;color:#666;margin-bottom:.28rem}
  .cv-apex .ae-d{font-size:.76rem;color:#444;line-height:1.6}
  .cv-apex .apro{font-size:.83rem;line-height:1.75;color:#333}
  .cv-apex .ask{display:flex;flex-wrap:wrap;gap:.4rem}
  .cv-apex .ask-i{background:var(--c4);color:var(--c2);padding:.18rem .6rem;font-size:.68rem;font-weight:600}
  .cv-apex .alg-i{margin-bottom:.55rem}
  .cv-apex .alg-n{font-weight:700;font-size:.78rem;color:var(--c1)}
  .cv-apex .alg-l{font-size:.68rem;color:#888}
  @media print{body{margin:0}@page{margin:1cm}}
  </style></head><body>${html}</body></html>`);
  w.document.close();
  setTimeout(() => { w.focus(); w.print(); }, 900);
  toast('â¬‡ Ã–ppnar utskrift...');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// UTILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function smoothTo(id) { document.getElementById(id)?.scrollIntoView({behavior:'smooth'}); }
function showOv(t) { document.getElementById('ov-t').textContent = t; document.getElementById('ov').classList.add('show'); }
function hideOv() { document.getElementById('ov').classList.remove('show'); }
function toast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg; t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 3200);
}

// INIT
buildGallery();
</script>
</body>
</html>
